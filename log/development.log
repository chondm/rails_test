Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (50.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (47.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (1029.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2394.1ms)[0m  CREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "date" timestamp, "title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')[0m
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (7.6ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (5.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m


Started GET "/assets/rails.png" for 127.0.0.1 at 2012-06-23 03:58:55 +0700
Connecting to database specified by database.yml
Served asset /rails.png - 200 OK (9ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:04 +0700

ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.6ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:05 +0700

ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:06 +0700

ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.3ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:57 +0700

TypeError (can't convert String into Hash):
  config/routes.rb:3:in `block in <top (required)>'
  config/routes.rb:1:in `<top (required)>'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (33.2ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:59 +0700

ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 03:59:59 +0700

ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.5ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (1.2ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (2.5ms)
Compiled promotions.css  (6ms)  (pid 10996)
Compiled scaffolds.css  (12ms)  (pid 10996)
Compiled application.css  (55ms)  (pid 10996)
Compiled jquery.js  (2ms)  (pid 10996)
Compiled jquery_ujs.js  (0ms)  (pid 10996)
Compiled promotions.js  (134ms)  (pid 10996)
Compiled application.js  (186ms)  (pid 10996)
Completed 200 OK in 375ms (Views: 315.4ms | ActiveRecord: 21.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /application.css - 200 OK (34ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /scaffolds.css - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:24 +0700
Served asset /application.js - 200 OK (10ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (38.3ms)
  Rendered promotions/new.html.erb within layouts/application (42.4ms)
Completed 200 OK in 59ms (Views: 47.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:00:29 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:11:17 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (12.9ms)
  Rendered promotions/new.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (undefined method `nested_form_for' for #<#<Class:0xa56d5d8>:0xa66f65c>):
    1: <%= nested_form_for(@promotion) do |f| %>
    2:   <% if @promotion.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@promotion.errors.count, "error") %> prohibited this promotion from being saved:</h2>
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___516530078_86459050'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__119143344_86509390'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:11:18 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (29.0ms)
  Rendered promotions/new.html.erb within layouts/application (29.7ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (undefined method `nested_form_for' for #<#<Class:0xa56d5d8>:0xa5ec4c8>):
    1: <%= nested_form_for(@promotion) do |f| %>
    2:   <% if @promotion.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@promotion.errors.count, "error") %> prohibited this promotion from being saved:</h2>
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___516530078_86459050'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__119143344_86509390'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:11:19 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (10.3ms)
  Rendered promotions/new.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (undefined method `nested_form_for' for #<#<Class:0xa56d5d8>:0xa555ab4>):
    1: <%= nested_form_for(@promotion) do |f| %>
    2:   <% if @promotion.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@promotion.errors.count, "error") %> prohibited this promotion from being saved:</h2>
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___516530078_86459050'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__119143344_86509390'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:11:32 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:11:33 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:11:34 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:11:35 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.5ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:27 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 45ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:28 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:29 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:30 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:32 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:51 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (couldn't find file './jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:52 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (couldn't find file './jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:13:53 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 46ms

ActionView::Template::Error (couldn't find file './jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (27.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.9ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:15:43 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:16:24 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (18.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (31.0ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:16:24 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 46ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:16:25 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:17:06 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:17:07 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (0.4ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (couldn't find file 'jquery_nested_form'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/application.js:16)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__146945702_86738870'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 04:17:16 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (3.0ms)
Compiled jquery_nested_form.js  (0ms)  (pid 11311)
Compiled application.js  (30ms)  (pid 11311)
Completed 200 OK in 189ms (Views: 129.5ms | ActiveRecord: 21.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /promotions.css - 304 Not Modified (29ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /scaffolds.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /jquery_nested_form.js - 200 OK (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:17 +0700
Served asset /application.js - 200 OK (6ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (39.2ms)
  Rendered promotions/new.html.erb within layouts/application (44.5ms)
Completed 200 OK in 66ms (Views: 51.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:17:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:19:02 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/new.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (Missing partial promotions/form, application/form with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
    1: <h1>New promotion</h1>
    2: 
    3: <%= render 'form' %>
    4: 
    5: <%= link_to 'Back', promotions_path %>
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:19:03 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/new.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (Missing partial promotions/form, application/form with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
    1: <h1>New promotion</h1>
    2: 
    3: <%= render 'form' %>
    4: 
    5: <%= link_to 'Back', promotions_path %>
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:19:04 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/new.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 3ms

ActionView::Template::Error (Missing partial promotions/form, application/form with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
    1: <h1>New promotion</h1>
    2: 
    3: <%= render 'form' %>
    4: 
    5: <%= link_to 'Back', promotions_path %>
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:19:06 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/new.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 3ms

ActionView::Template::Error (Missing partial promotions/form, application/form with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
    1: <h1>New promotion</h1>
    2: 
    3: <%= render 'form' %>
    4: 
    5: <%= link_to 'Back', promotions_path %>
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (12.3ms)
  Rendered promotions/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 22ms (Views: 21.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:20:05 +0700
Served asset /application.js - 304 Not Modified (1ms)
Connecting to database specified by database.yml
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (69.1ms)[0m  DROP TABLE "promotions"
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20120622205736'[0m
  [1m[35m (20.9ms)[0m  COMMIT
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (131.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (3.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname



Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:21:47 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (3.3ms)
  Rendered promotions/new.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined method `date' for #<Promotion:0xb588c218>):
    17:   </div>
    18:   <div class="field">
    19:     <%= f.label :date %><br />
    20:     <%= f.datetime_select :date %>
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :title %><br />
  app/views/promotions/_form.html.erb:20:in `block in _app_views_promotions__form_html_erb___191829576__619415518'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___191829576__619415518'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:21:48 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (2.5ms)
  Rendered promotions/new.html.erb within layouts/application (3.1ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (undefined method `date' for #<Promotion:0xb5c56f4c>):
    17:   </div>
    18:   <div class="field">
    19:     <%= f.label :date %><br />
    20:     <%= f.datetime_select :date %>
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :title %><br />
  app/views/promotions/_form.html.erb:20:in `block in _app_views_promotions__form_html_erb___191829576__619415518'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___191829576__619415518'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:22:45 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (21.4ms)
  Rendered promotions/new.html.erb within layouts/application (22.1ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (undefined method `input' for #<NestedForm::Builder:0xb3fe2f14>):
    17:   </div>
    18:   <div class="field">
    19:     <%= f.label :start_date %><br />
    20:     <%= f.input :start_date, :as => :date %>
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :end_date %><br />
  app/views/promotions/_form.html.erb:20:in `block in _app_views_promotions__form_html_erb___191829576__637620468'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___191829576__637620468'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:22:46 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (16.2ms)
  Rendered promotions/new.html.erb within layouts/application (16.8ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (undefined method `input' for #<NestedForm::Builder:0x9b18d6c>):
    17:   </div>
    18:   <div class="field">
    19:     <%= f.label :start_date %><br />
    20:     <%= f.input :start_date, :as => :date %>
    21:   </div>
    22:   <div class="field">
    23:     <%= f.label :end_date %><br />
  app/views/promotions/_form.html.erb:20:in `block in _app_views_promotions__form_html_erb___191829576__637620468'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___191829576__637620468'
  app/views/promotions/new.html.erb:3:in `_app_views_promotions_new_html_erb__246408928__628833988'
  app/controllers/promotions_controller.rb:30:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (41.3ms)
  Rendered promotions/new.html.erb within layouts/application (42.2ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:23:52 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (16.2ms)
  Rendered promotions/new.html.erb within layouts/application (17.2ms)
Completed 200 OK in 24ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (37.5ms)
  Rendered promotions/new.html.erb within layouts/application (38.4ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:24:16 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (37.8ms)
  Rendered promotions/new.html.erb within layouts/application (38.8ms)
Completed 200 OK in 46ms (Views: 45.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:16 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:16 +0700
Served asset /scaffolds.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:24:16 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:24:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (17.8ms)
  Rendered promotions/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 27ms (Views: 26.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:17 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (46.6ms)
  Rendered promotions/new.html.erb within layouts/application (48.1ms)
Completed 200 OK in 57ms (Views: 56.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /scaffolds.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (16.7ms)
  Rendered promotions/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 50ms (Views: 49.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:25:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (18.3ms)
  Rendered promotions/new.html.erb within layouts/application (19.6ms)
Completed 200 OK in 27ms (Views: 26.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:10 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (46.1ms)
  Rendered promotions/new.html.erb within layouts/application (47.6ms)
Completed 200 OK in 56ms (Views: 55.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (19.5ms)
  Rendered promotions/new.html.erb within layouts/application (21.2ms)
Completed 200 OK in 52ms (Views: 51.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:26:15 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:31:11 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (19.2ms)
  Rendered promotions/new.html.erb within layouts/application (20.6ms)
Compiled style.css  (6ms)  (pid 11311)
Compiled style.css  (2ms)  (pid 11311)
Compiled application.css  (47ms)  (pid 11311)
Completed 200 OK in 93ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:11 +0700
Served asset /application.css - 304 Not Modified (14ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:11 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:11 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:11 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:31:13 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (41.9ms)
  Rendered promotions/new.html.erb within layouts/application (42.8ms)
Completed 200 OK in 50ms (Views: 49.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:31:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (14.5ms)
  Rendered promotions/new.html.erb within layouts/application (15.5ms)
Compiled style.css  (2ms)  (pid 11311)
Compiled application.css  (2ms)  (pid 11311)
Completed 200 OK in 67ms (Views: 66.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /application.css - 200 OK (8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /scaffolds.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:32:31 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (15.0ms)
  Rendered promotions/new.html.erb within layouts/application (15.8ms)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 33ms (Views: 33.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/scaffolds.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /scaffolds.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /application.css - 200 OK (39ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:32:32 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (18.6ms)
  Rendered promotions/new.html.erb within layouts/application (19.5ms)
Compiled style.css  (13ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 54ms (Views: 53.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /application.css - 304 Not Modified (11ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:34:57 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (41.7ms)
  Rendered promotions/new.html.erb within layouts/application (42.8ms)
Compiled style.css  (13ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 77ms (Views: 76.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:35:38 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:36:13 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (43.1ms)
  Rendered promotions/new.html.erb within layouts/application (44.1ms)
Compiled style.css  (13ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 78ms (Views: 77.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /application.css - 304 Not Modified (14ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /style.css - 200 OK (5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:14 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (42.5ms)
  Rendered promotions/new.html.erb within layouts/application (43.4ms)
Compiled style.css  (13ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 77ms (Views: 76.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (45.2ms)
  Rendered promotions/new.html.erb within layouts/application (46.2ms)
Completed 200 OK in 53ms (Views: 52.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (16.8ms)
  Rendered promotions/new.html.erb within layouts/application (18.3ms)
Compiled style.css  (14ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 54ms (Views: 53.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /application.css - 304 Not Modified (35ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:36:55 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (14.8ms)
  Rendered promotions/new.html.erb within layouts/application (15.6ms)
Completed 200 OK in 22ms (Views: 21.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:55 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:36:56 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (39.5ms)
  Rendered promotions/new.html.erb within layouts/application (40.3ms)
Compiled style.css  (15ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 75ms (Views: 75.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:38:18 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:40:10 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (41.7ms)
  Rendered promotions/new.html.erb within layouts/application (42.7ms)
Compiled style.css  (15ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 85ms (Views: 84.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:11 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (15.3ms)
  Rendered promotions/new.html.erb within layouts/application (16.6ms)
Compiled style.css  (16ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 82ms (Views: 81.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /application.css - 304 Not Modified (8ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:40:21 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (21.9ms)
  Rendered promotions/new.html.erb within layouts/application (23.0ms)
Compiled style.css  (15ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 92ms (Views: 91.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /application.css - 304 Not Modified (13ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:41:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)
Connecting to database specified by database.yml
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.1ms)[0m  DROP TABLE "promotions"
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20120622205736'[0m
  [1m[35m (29.9ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:43:32 +0700
Processing by PromotionsController#new as HTML
PG::Error: ERROR:  relation "promotions" does not exist
LINE 4:              WHERE a.attrelid = '"promotions"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"promotions"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum

Completed 500 Internal Server Error in 3ms

ActiveRecord::StatementInvalid (PG::Error: ERROR:  relation "promotions" does not exist
LINE 4:              WHERE a.attrelid = '"promotions"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"promotions"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
):
  app/controllers/promotions_controller.rb:28:in `new'
  app/controllers/promotions_controller.rb:28:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:43:34 +0700
Processing by PromotionsController#new as HTML
PG::Error: ERROR:  relation "promotions" does not exist
LINE 4:              WHERE a.attrelid = '"promotions"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"promotions"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum

Completed 500 Internal Server Error in 1ms

ActiveRecord::StatementInvalid (PG::Error: ERROR:  relation "promotions" does not exist
LINE 4:              WHERE a.attrelid = '"promotions"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"promotions"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
):
  app/controllers/promotions_controller.rb:28:in `new'
  app/controllers/promotions_controller.rb:28:in `new'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.4ms)
Connecting to database specified by database.yml
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (90.0ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')
  [1m[36m (17.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (6.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (5.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname



Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (43.2ms)
  Rendered promotions/new.html.erb within layouts/application (44.2ms)
Completed 200 OK in 70ms (Views: 51.1ms | ActiveRecord: 4.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:43:48 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (42.0ms)
  Rendered promotions/new.html.erb within layouts/application (42.9ms)
Compiled style.css  (16ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 79ms (Views: 79.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:06 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 04:45:29 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (16.2ms)
  Rendered promotions/new.html.erb within layouts/application (17.1ms)
Compiled style.css  (15ms)  (pid 11311)
Compiled application.css  (1ms)  (pid 11311)
Completed 200 OK in 84ms (Views: 83.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:45:30 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started POST "/promotions" for 127.0.0.1 at 2012-06-23 04:47:17 +0700
Processing by PromotionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"22", "end_date(1i)"=>"2012", "end_date(2i)"=>"6", "end_date(3i)"=>"31", "title"=>"Title 1", "sub_title"=>"Sub title 1", "subject"=>"Subject 1", "description"=>"Description 1"}, "commit"=>"Create Promotion"}
Completed 500 Internal Server Error in 1ms

ActiveModel::MassAssignmentSecurity::Error (Can't mass-assign protected attributes: start_date(1i), start_date(2i), start_date(3i), end_date(1i), end_date(2i), end_date(3i), sub_title):
  app/controllers/promotions_controller.rb:44:in `new'
  app/controllers/promotions_controller.rb:44:in `create'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started POST "/promotions" for 127.0.0.1 at 2012-06-23 04:55:20 +0700
Processing by PromotionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"22", "end_date(1i)"=>"2012", "end_date(2i)"=>"6", "end_date(3i)"=>"31", "title"=>"Title 1", "sub_title"=>"Sub title 1", "subject"=>"Subject 1", "description"=>"Description 1"}, "commit"=>"Create Promotion"}
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (36.7ms)[0m  [1mINSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 21:55:20 UTC +00:00], ["description", "Description 1"], ["end_date", Sun, 01 Jul 2012 00:00:00 UTC +00:00], ["name", "Promotion  1"], ["start_date", Fri, 22 Jun 2012 00:00:00 UTC +00:00], ["sub_title", "Sub title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 21:55:20 UTC +00:00]]
  [1m[35m (27.3ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 87ms (ActiveRecord: 65.9ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 04:55:20 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (2.2ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (undefined method `date' for #<Promotion:0x9ab2b70>):
    7: 
    8: <p>
    9:   <b>Date:</b>
    10:   <%= @promotion.date %>
    11: </p>
    12: 
    13: <p>
  app/views/promotions/show.html.erb:10:in `_app_views_promotions_show_html_erb__408450090_81893470'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (42.3ms)
  Rendered promotions/edit.html.erb within layouts/application (44.1ms)
Completed 200 OK in 52ms (Views: 50.4ms | ActiveRecord: 0.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 04:56:41 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
Migrating to CreateBusinesses (20120622215943)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (57.0ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622215943')
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateProductBundles (20120622220011)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (59.1ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622220011')
  [1m[36m (13.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (6.8ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (5.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateProductBundles (20120622220011)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m  DROP TABLE "product_bundles"
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20120622220011'[0m
  [1m[35m (29.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (7.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (2.4ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (2.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
Migrating to CreateBusinesses (20120622215943)
Migrating to CreateProductBundles (20120622220011)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (66.2ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622220011')
  [1m[36m (18.2ms)[0m  [1mCOMMIT[0m
Migrating to CreatePromotionsBusinesses (20120622221046)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (49.0ms)[0m  [1mCREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622221046')
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateBusinessesProductBundles (20120622221124)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (62.0ms)[0m  [1mCREATE TABLE "businesses_product_bundles" ("id" serial primary key, "name" character varying(255), "product_bundle_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622221124')
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (7.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (5.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_product_bundles"'::regclass
[0m
  [1m[35m (3.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.9ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateBusinessesProductBundles (20120622221124)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (2.8ms)[0m  DROP TABLE "businesses_product_bundles"
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20120622221124'[0m
  [1m[35m (29.1ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (6.8ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (5.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass

  [1m[36m (2.5ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (2.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass

  [1m[36m (2.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
Migrating to CreateBusinesses (20120622215943)
Migrating to CreateProductBundles (20120622220011)
Migrating to CreatePromotionsBusinesses (20120622221046)
Migrating to CreateBusinessesProductBundles (20120622221124)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (120.3ms)[0m  [1mCREATE TABLE "businesses_product_bundles" ("id" serial primary key, "name" character varying(255), "product_bundle_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120622221124')
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.8ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (6.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (4.9ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_product_bundles"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname



Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (42.1ms)
  Rendered promotions/edit.html.erb within layouts/application (43.3ms)
Completed 200 OK in 71ms (Views: 50.0ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 05:17:00 +0700
Served asset /application.js - 304 Not Modified (1ms)
Connecting to database specified by database.yml
  [1m[36m (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateBusinessesProductBundles (20120622221124)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (3.4ms)[0m  DROP TABLE "businesses_product_bundles"
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20120622221124'[0m
  [1m[35m (27.0ms)[0m  COMMIT
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (7.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (5.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass

  [1m[36m (2.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (2.8ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass

  [1m[36m (2.5ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (7.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (6.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (7.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (5.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
  [1m[36m (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreatePromotions (20120622205736)
Migrating to CreateBusinesses (20120622215943)
Migrating to CreateProductBundles (20120622220011)
  [1m[35m (0.8ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (5.9ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (5.0ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.2ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
  [1m[36m (1.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36mPK and serial sequence (7.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass
[0m
  [1m[35m (5.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass
[0m
  [1m[35m (2.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mPK and serial sequence (5.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions_businesses"'::regclass
[0m
  [1m[35m (2.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions_businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

Connecting to database specified by database.yml
  [1m[36m (0.7ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (0.6ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (771.2ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (639.6ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (68.7ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (63.8ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (131.3ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.9ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (8.9ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (56.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (225.4ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (227.1ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (784.3ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (626.7ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (73.3ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (53.1ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (120.5ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (53.6ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (40.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (11.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (6.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:47:52 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (225.5ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (226.7ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (631.6ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (841.5ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (71.0ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (75.6ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (131.0ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (75.7ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (6.0ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (60.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (6.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:48:50 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (227.2ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (227.1ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (629.7ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (600.7ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (65.1ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.5ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (97.6ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (75.2ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (6.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (59.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.8ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (6.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:49:01 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (228.5ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (218.3ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (691.2ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (736.8ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (84.7ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.6ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (97.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (75.3ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (8.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (57.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (11.6ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:49:38 UTC +00:00]]
  [1m[35m (8.5ms)[0m  COMMIT
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (5009.6ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
PG::Error: ERROR:  database "promotion_dev" is being accessed by other users
DETAIL:  There are 1 other session(s) using the database.
: DROP DATABASE IF EXISTS "promotion_dev"
  [1m[35m (618.1ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (732.4ms)[0m  [1mCREATE DATABASE "promotion_test" ENCODING = 'utf8'[0m
  [1m[35m (11.5ms)[0m  DROP TABLE "businesses"
  [1m[36m (55.0ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (10.6ms)[0m  DROP TABLE "product_bundles"
  [1m[36m (53.6ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (11.4ms)[0m  DROP TABLE "promotions"
  [1m[36m (86.3ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (10.4ms)[0m  DROP TABLE "promotions_businesses"
  [1m[36m (53.9ms)[0m  [1mCREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (8.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (11.2ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (6.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:52:25 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (5009.7ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
PG::Error: ERROR:  database "promotion_dev" is being accessed by other users
DETAIL:  There are 1 other session(s) using the database.
: DROP DATABASE IF EXISTS "promotion_dev"
  [1m[35m (923.7ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (752.6ms)[0m  [1mCREATE DATABASE "promotion_test" ENCODING = 'utf8'[0m
  [1m[35m (9.0ms)[0m  DROP TABLE "businesses"
  [1m[36m (66.6ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.8ms)[0m  DROP TABLE "product_bundles"
  [1m[36m (75.5ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (11.6ms)[0m  DROP TABLE "promotions"
  [1m[36m (98.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.4ms)[0m  DROP TABLE "promotions_businesses"
  [1m[36m (65.0ms)[0m  [1mCREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (8.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (6.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:53:01 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (228.1ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (226.6ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (728.6ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (748.0ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (55.1ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.5ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (86.5ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.1ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (6.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (48.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (10.2ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:53:12 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (220.0ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (222.0ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (716.2ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (708.0ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (84.0ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (64.7ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (108.6ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (75.9ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (7.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (58.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (7.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (11.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Business 1"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (1.1ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.578523' WHERE "product_bundles"."id" = 1[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.6ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.582327' WHERE "product_bundles"."id" = 2
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.584856' WHERE "product_bundles"."id" = 3[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.6ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.587405' WHERE "product_bundles"."id" = 4
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.589894' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (3.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Business 2"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.601953' WHERE "product_bundles"."id" = 6[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.604898' WHERE "product_bundles"."id" = 7
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.607591' WHERE "product_bundles"."id" = 8[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.610242' WHERE "product_bundles"."id" = 9
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.612782' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Business 3"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.623217' WHERE "product_bundles"."id" = 11[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.625934' WHERE "product_bundles"."id" = 12
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.628464' WHERE "product_bundles"."id" = 13[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.631059' WHERE "product_bundles"."id" = 14
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.633579' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Business 4"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.645487' WHERE "product_bundles"."id" = 16[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.648204' WHERE "product_bundles"."id" = 17
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.650713' WHERE "product_bundles"."id" = 18[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.653279' WHERE "product_bundles"."id" = 19
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.655794' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["name", "Business 5"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.666704' WHERE "product_bundles"."id" = 21[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.669494' WHERE "product_bundles"."id" = 22
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.672149' WHERE "product_bundles"."id" = 23[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.674712' WHERE "product_bundles"."id" = 24
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 22:53:56.677279' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["description", "Description 1"], ["end_date", Mon, 02 Jul 2012 22:53:56 UTC +00:00], ["name", "Promotion 1"], ["start_date", Fri, 22 Jun 2012 22:53:56 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 22:53:56 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 22:53:56.760110' WHERE "businesses"."id" = 1[0m
  [1m[35m (0.6ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 22:53:56.762226' WHERE "businesses"."id" = 2
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 22:53:56.764068' WHERE "businesses"."id" = 3[0m
  [1m[35m (0.6ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 22:53:56.766282' WHERE "businesses"."id" = 4
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 22:53:56.768521' WHERE "businesses"."id" = 5[0m
  [1m[35m (2.3ms)[0m  COMMIT
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2012-06-23 05:54:42 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (1.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (29.3ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (undefined method `date' for #<Promotion:0xb5d8d5dc>):
    15: <% @promotions.each do |promotion| %>
    16:   <tr>
    17:     <td><%= promotion.name %></td>
    18:     <td><%= promotion.date %></td>
    19:     <td><%= promotion.title %></td>
    20:     <td><%= promotion.subject %></td>
    21:     <td><%= promotion.description %></td>
  app/views/promotions/index.html.erb:18:in `block in _app_views_promotions_index_html_erb__117234366_84344170'
  app/views/promotions/index.html.erb:15:in `each'
  app/views/promotions/index.html.erb:15:in `_app_views_promotions_index_html_erb__117234366_84344170'
  app/controllers/promotions_controller.rb:8:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:39 +0700
Served asset /application.js - 304 Not Modified (6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (48.7ms)
  Rendered promotions/edit.html.erb within layouts/application (55.8ms)
Completed 200 OK in 67ms (Views: 63.0ms | ActiveRecord: 1.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 05:55:43 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:56:18 +0700

ArgumentError (No association found for name `businesses_attributes'. Has it been defined yet?):
  app/models/promotion.rb:4:in `<class:Promotion>'
  app/models/promotion.rb:1:in `<top (required)>'
  app/controllers/promotions_controller.rb:2:in `<top (required)>'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (27.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:56:19 +0700

NoMethodError (undefined method `key?' for nil:NilClass):
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:36:in `visible_action?'
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:18:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/implicit_render.rb:14:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/compatibility.rb:61:in `method_for_action'
  actionpack (3.2.5) lib/abstract_controller/base.rb:115:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__1057630311__call__764088270__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.4ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:56:20 +0700

NoMethodError (undefined method `key?' for nil:NilClass):
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:36:in `visible_action?'
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:18:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/implicit_render.rb:14:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/compatibility.rb:61:in `method_for_action'
  actionpack (3.2.5) lib/abstract_controller/base.rb:115:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__1057630311__call__764088270__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:56:21 +0700

NoMethodError (undefined method `key?' for nil:NilClass):
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:36:in `visible_action?'
  actionpack (3.2.5) lib/action_controller/metal/hide_actions.rb:18:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/implicit_render.rb:14:in `method_for_action'
  actionpack (3.2.5) lib/action_controller/metal/compatibility.rb:61:in `method_for_action'
  actionpack (3.2.5) lib/abstract_controller/base.rb:115:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__1057630311__call__764088270__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:58:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (42.1ms)
  Rendered promotions/edit.html.erb within layouts/application (43.4ms)
Completed 200 OK in 65ms (Views: 50.6ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 05:58:08 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:59:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (20.2ms)
  Rendered promotions/edit.html.erb (21.9ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:59:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (46.0ms)
  Rendered promotions/edit.html.erb (47.8ms)
Completed 200 OK in 53ms (Views: 50.8ms | ActiveRecord: 0.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:59:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (15.8ms)
  Rendered promotions/edit.html.erb (16.9ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 05:59:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (41.2ms)
  Rendered promotions/edit.html.erb (42.9ms)
Completed 200 OK in 48ms (Views: 45.8ms | ActiveRecord: 0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:00:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (18.0ms)
  Rendered promotions/edit.html.erb (19.1ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:00:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (40.7ms)
  Rendered promotions/edit.html.erb (42.0ms)
Completed 200 OK in 45ms (Views: 43.4ms | ActiveRecord: 0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:00:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (16.5ms)
  Rendered promotions/edit.html.erb (17.7ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/_form.html.erb (43.6ms)
  Rendered promotions/edit.html.erb within layouts/application (45.2ms)
Completed 200 OK in 56ms (Views: 53.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:00:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/_form.html.erb (21.0ms)
  Rendered promotions/edit.html.erb within layouts/application (22.3ms)
Completed 200 OK in 33ms (Views: 30.1ms | ActiveRecord: 0.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /jquery.js - 304 Not Modified (33ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:01:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:03:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.2ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (89.4ms)
  Rendered promotions/edit.html.erb within layouts/application (90.0ms)
Completed 500 Internal Server Error in 93ms

ActionView::Template::Error (Missing partial promotions/business_fields, application/business_fields with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class="field">
    24:     <%= f.fields_for :businesses %>
    25:   </div>
    26:   <div class="actions">
    27:     <%= f.submit %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___421688177_83169330'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_83169330'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:05:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (28.4ms)
  Rendered promotions/edit.html.erb within layouts/application (29.7ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (undefined local variable or method `task_form' for #<#<Class:0xb4569b7c>:0x9f3b408>):
    22:   </div>
    23:   <div class="field">
    24:     <%= f.fields_for :businesses do |business| %>
    25:       <%= task_form.text_field :name %>
    26:       <%= task_form.link_to_remove "Remove this task" %>
    27:     <% end %>
    28:     <p><%= f.link_to_add "Add a task", :business %></p>
  app/views/promotions/_form.html.erb:25:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:05:28 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.9ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (55.9ms)
  Rendered promotions/edit.html.erb within layouts/application (57.3ms)
Completed 500 Internal Server Error in 63ms

ActionView::Template::Error (undefined local variable or method `task_form' for #<#<Class:0xb4569b7c>:0xb4c29534>):
    22:   </div>
    23:   <div class="field">
    24:     <%= f.fields_for :businesses do |business| %>
    25:       <%= task_form.text_field :name %>
    26:       <%= task_form.link_to_remove "Remove this task" %>
    27:     <% end %>
    28:     <p><%= f.link_to_add "Add a task", :business %></p>
  app/views/promotions/_form.html.erb:25:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_84347160'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (27.0ms)
  Rendered promotions/edit.html.erb within layouts/application (28.6ms)
Completed 200 OK in 65ms (Views: 61.7ms | ActiveRecord: 1.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:08 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"22", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"2", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_attributes"=>{"0"=>{"name"=>"Business 1", "_destroy"=>"false", "id"=>"1"}, "1"=>{"name"=>"Business 2", "_destroy"=>"false", "id"=>"2"}, "2"=>{"name"=>"Business 3", "_destroy"=>"false", "id"=>"3"}, "3"=>{"name"=>"Business 4", "_destroy"=>"false", "id"=>"4"}, "4"=>{"name"=>"Business 5", "_destroy"=>"false", "id"=>"5"}, "new_1340406387836"=>{"name"=>"Business 6", "_destroy"=>"false"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1 AND "businesses"."id" IN (1, 2, 3, 4, 5)
  [1m[36m (0.8ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-22 00:00:00.000000', "end_date" = '2012-07-02 00:00:00.000000', "updated_at" = '2012-06-22 23:06:35.413356' WHERE "promotions"."id" = 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:06:35 UTC +00:00], ["name", "Business 6"], ["promotion_id", 1], ["updated_at", Fri, 22 Jun 2012 23:06:35 UTC +00:00]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 36ms (ActiveRecord: 17.5ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:35 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:06:38 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (58.3ms)
  Rendered promotions/edit.html.erb within layouts/application (60.0ms)
Completed 200 OK in 72ms (Views: 69.5ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:06:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:09:31 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (1.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (62.4ms)
  Rendered promotions/edit.html.erb within layouts/application (63.0ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a task", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:09:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (47.1ms)
  Rendered promotions/edit.html.erb within layouts/application (47.7ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a task", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:09:34 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (1.1ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (22.7ms)
  Rendered promotions/edit.html.erb within layouts/application (23.4ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a task", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__630991798'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (38.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (37.0ms)
  Rendered promotions/edit.html.erb within layouts/application (38.3ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (undefined local variable or method `product_bundle' for #<#<Class:0xb4569b7c>:0x9c65df0>):
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     
    32:     <p><%= product_bundle.link_to_add "Add a product bundle", :product_bundles %></p>
    33:   <%end%>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/promotions/_form.html.erb:32:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (56.6ms)
  Rendered promotions/edit.html.erb within layouts/application (57.7ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (undefined local variable or method `product_bundle' for #<#<Class:0xb4569b7c>:0xb4ce9d48>):
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     
    32:     <p><%= product_bundle.link_to_add "Add a product bundle", :product_bundles %></p>
    33:   <%end%>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/promotions/_form.html.erb:32:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (54.2ms)
  Rendered promotions/edit.html.erb within layouts/application (55.5ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined local variable or method `product_bundle' for #<#<Class:0xb4569b7c>:0xb5fb7c90>):
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     
    32:     <p><%= product_bundle.link_to_add "Add a product bundle", :product_bundles %></p>
    33:   <%end%>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/promotions/_form.html.erb:32:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (56.5ms)
  Rendered promotions/edit.html.erb within layouts/application (57.8ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (undefined local variable or method `product_bundle' for #<#<Class:0xb4569b7c>:0xb5750a48>):
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     
    32:     <p><%= product_bundle.link_to_add "Add a product bundle", :product_bundles %></p>
    33:   <%end%>
    34:   <div class="actions">
    35:     <%= f.submit %>
  app/views/promotions/_form.html.erb:32:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177_74929440'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (1.0ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (36.9ms)
  Rendered promotions/edit.html.erb within layouts/application (38.0ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:54 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (49.7ms)
  Rendered promotions/edit.html.erb within layouts/application (50.9ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:55 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (1.0ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (57.7ms)
  Rendered promotions/edit.html.erb within layouts/application (58.9ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:11:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (22.3ms)
  Rendered promotions/edit.html.erb within layouts/application (22.9ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:12:00 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (1.3ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (25.1ms)
  Rendered promotions/edit.html.erb within layouts/application (25.8ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___421688177__623710098'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___495242265__621182788'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.1ms)
Connecting to database specified by database.yml
  [1m[36m (224.8ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (222.8ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (736.4ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (729.7ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (67.4ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (76.0ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (98.1ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.0ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (7.9ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (80.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (11.3ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (6.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Business 1"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (1.3ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.444980' WHERE "product_bundles"."id" = 1[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.448077' WHERE "product_bundles"."id" = 2
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.449696' WHERE "product_bundles"."id" = 3[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.6ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.451160' WHERE "product_bundles"."id" = 4
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.452570' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Business 2"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.467075' WHERE "product_bundles"."id" = 6[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.469565' WHERE "product_bundles"."id" = 7
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.471772' WHERE "product_bundles"."id" = 8[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.473901' WHERE "product_bundles"."id" = 9
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.475957' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Business 3"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.490886' WHERE "product_bundles"."id" = 11[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.493484' WHERE "product_bundles"."id" = 12
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.495911' WHERE "product_bundles"."id" = 13[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.498338' WHERE "product_bundles"."id" = 14
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.500821' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Business 4"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.512895' WHERE "product_bundles"."id" = 16[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.515576' WHERE "product_bundles"."id" = 17
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.518108' WHERE "product_bundles"."id" = 18[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.520592' WHERE "product_bundles"."id" = 19
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.523119' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["name", "Business 5"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.535127' WHERE "product_bundles"."id" = 21[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.537699' WHERE "product_bundles"."id" = 22
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.540138' WHERE "product_bundles"."id" = 23[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.542788' WHERE "product_bundles"."id" = 24
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:14:00.545285' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["description", "Description 1"], ["end_date", Mon, 02 Jul 2012 23:14:00 UTC +00:00], ["name", "Promotion 1"], ["start_date", Fri, 22 Jun 2012 23:14:00 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 23:14:00 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:14:00.617190' WHERE "businesses"."id" = 1[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:14:00.619223' WHERE "businesses"."id" = 2
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:14:00.620605' WHERE "businesses"."id" = 3[0m
  [1m[35m (0.6ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:14:00.621938' WHERE "businesses"."id" = 4
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:14:00.623237' WHERE "businesses"."id" = 5[0m
  [1m[35m (4.9ms)[0m  COMMIT


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:14:23 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (2.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (1.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (142.0ms)
  Rendered promotions/edit.html.erb within layouts/application (170.1ms)
Completed 500 Internal Server Error in 221ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__155981943_87391930'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:14:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.9ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.2ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (49.4ms)
  Rendered promotions/edit.html.erb within layouts/application (50.6ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__155981943_87391930'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 06:14:30 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 56ms (Views: 53.3ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:14:31 +0700
Served asset /application.js - 304 Not Modified (6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:14:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1
  Rendered promotions/_form.html.erb (48.4ms)
  Rendered promotions/edit.html.erb within layouts/application (48.9ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (PG::Error: ERROR:  column product_bundles.business_id does not exist
LINE 1: ..."product_bundles".* FROM "product_bundles"  WHERE "product_b...
                                                             ^
: SELECT "product_bundles".* FROM "product_bundles"  WHERE "product_bundles"."business_id" = 1):
    28:     <p><%= f.link_to_add "Add a business", :businesses %></p>
    29:   </div>
    30:   <%= f.fields_for :businesses do |business| %>
    31:     <%= business.fields_for :product_bundles do |product_bundle| %>
    32:       <%= product_bundle.text_field :name %>
    33:       <%= product_bundle.link_to_remove "Remove this product bundle" %>
    34:     <% end %>
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:30:in `block in _app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__556603770_80569090'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__155981943_87391930'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.2ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (5009.4ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
PG::Error: ERROR:  database "promotion_dev" is being accessed by other users
DETAIL:  There are 1 other session(s) using the database.
: DROP DATABASE IF EXISTS "promotion_dev"
  [1m[35m (826.2ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (673.3ms)[0m  [1mCREATE DATABASE "promotion_test" ENCODING = 'utf8'[0m
  [1m[35m (38.3ms)[0m  DROP TABLE "businesses"
  [1m[36m (76.6ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (10.2ms)[0m  DROP TABLE "product_bundles"
  [1m[36m (64.9ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (11.2ms)[0m  DROP TABLE "promotions"
  [1m[36m (97.3ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (10.4ms)[0m  DROP TABLE "promotions_businesses"
  [1m[36m (76.1ms)[0m  [1mCREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.5ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (6.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 23:16:43 UTC +00:00]]
  [1m[35m (7.0ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Business 1"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (1.2ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.167690' WHERE "product_bundles"."id" = 1[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.6ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.170694' WHERE "product_bundles"."id" = 2
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.172253' WHERE "product_bundles"."id" = 3[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.173743' WHERE "product_bundles"."id" = 4
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.175295' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Business 2"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.186184' WHERE "product_bundles"."id" = 6[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.188870' WHERE "product_bundles"."id" = 7
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.191178' WHERE "product_bundles"."id" = 8[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.193447' WHERE "product_bundles"."id" = 9
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.195688' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (5.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Business 3"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.208519' WHERE "product_bundles"."id" = 11[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.211168' WHERE "product_bundles"."id" = 12
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.213719' WHERE "product_bundles"."id" = 13[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.216189' WHERE "product_bundles"."id" = 14
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.218754' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Business 4"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.230589' WHERE "product_bundles"."id" = 16[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.233183' WHERE "product_bundles"."id" = 17
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.235658' WHERE "product_bundles"."id" = 18[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.238109' WHERE "product_bundles"."id" = 19
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.240525' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["name", "Business 5"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.252746' WHERE "product_bundles"."id" = 21[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.255470' WHERE "product_bundles"."id" = 22
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.257994' WHERE "product_bundles"."id" = 23[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.260608' WHERE "product_bundles"."id" = 24
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:44.263081' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["description", "Description 1"], ["end_date", Mon, 02 Jul 2012 23:16:44 UTC +00:00], ["name", "Promotion 1"], ["start_date", Fri, 22 Jun 2012 23:16:44 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 23:16:44 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:44.316114' WHERE "businesses"."id" = 1[0m
  [1m[35m (0.6ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:44.318174' WHERE "businesses"."id" = 2
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:44.319517' WHERE "businesses"."id" = 3[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:44.320832' WHERE "businesses"."id" = 4
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:44.322348' WHERE "businesses"."id" = 5[0m
  [1m[35m (12.4ms)[0m  COMMIT
Connecting to database specified by database.yml
  [1m[36m (218.0ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev"[0m
  [1m[35m (223.7ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (706.3ms)[0m  [1mCREATE DATABASE "promotion_dev" ENCODING = 'utf8'[0m
  [1m[35m (703.2ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (54.4ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (53.4ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (97.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (53.1ms)[0m  CREATE TABLE "promotions_businesses" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (7.9ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (58.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (8.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622221046')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (10.1ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[35m (4.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 23:16:57 UTC +00:00]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (7.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Business 1"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (1.1ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.268544' WHERE "product_bundles"."id" = 1[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.271542' WHERE "product_bundles"."id" = 2
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.273099' WHERE "product_bundles"."id" = 3[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[35m (0.6ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.274542' WHERE "product_bundles"."id" = 4
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:34)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.276006' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Business 2"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.288927' WHERE "product_bundles"."id" = 6[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.291499' WHERE "product_bundles"."id" = 7
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.293828' WHERE "product_bundles"."id" = 8[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.296488' WHERE "product_bundles"."id" = 9
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:35)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.299083' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Business 3"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.311263' WHERE "product_bundles"."id" = 11[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.313863' WHERE "product_bundles"."id" = 12
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.316267' WHERE "product_bundles"."id" = 13[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.318818' WHERE "product_bundles"."id" = 14
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:36)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.321465' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Business 4"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.333446' WHERE "product_bundles"."id" = 16[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.336029' WHERE "product_bundles"."id" = 17
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.338579' WHERE "product_bundles"."id" = 18[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.340992' WHERE "product_bundles"."id" = 19
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:37)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.343504' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["name", "Business 5"], ["promotion_id", nil], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.354529' WHERE "product_bundles"."id" = 21[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.357183' WHERE "product_bundles"."id" = 22
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.359636' WHERE "product_bundles"."id" = 23[0m
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.362143' WHERE "product_bundles"."id" = 24
DEPRECATION WARNING: You're trying to create an attribute `business_id'. Writing arbitrary attributes on a model is deprecated. Please just use `attr_writer` etc. (called from <top (required)> at /home/trucntt/working/promotion-demo/db/seeds.rb:38)
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "updated_at" = '2012-06-22 23:16:58.364819' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["description", "Description 1"], ["end_date", Mon, 02 Jul 2012 23:16:58 UTC +00:00], ["name", "Promotion 1"], ["start_date", Fri, 22 Jun 2012 23:16:58 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 23:16:58 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:58.447742' WHERE "businesses"."id" = 1[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:58.449828' WHERE "businesses"."id" = 2
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:58.451241' WHERE "businesses"."id" = 3[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:58.452616' WHERE "businesses"."id" = 4
  [1m[36m (0.6ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:16:58.454032' WHERE "businesses"."id" = 5[0m
  [1m[35m (5.7ms)[0m  COMMIT
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (27.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (6.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (59.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (131.2ms)[0m  CREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')[0m
  [1m[35m (7.6ms)[0m  COMMIT
Migrating to CreateBusinesses (20120622215943)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (97.6ms)[0m  CREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622215943')[0m
  [1m[35m (8.8ms)[0m  COMMIT
Migrating to CreateProductBundles (20120622220011)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (61.9ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622220011')[0m
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (7.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (5.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass

  [1m[36m (2.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (5.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (2.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
  [1m[36m (0.9ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (6.2ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (30.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (30.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (29.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (8.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[35m (7.6ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["discounted_price", nil], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-22 23:18:32.854787' WHERE "product_bundles"."id" = 1[0m
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-22 23:18:32.857553' WHERE "product_bundles"."id" = 2
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-22 23:18:32.859416' WHERE "product_bundles"."id" = 3[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-22 23:18:32.861410' WHERE "product_bundles"."id" = 4
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-22 23:18:32.863315' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (11.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["discounted_price", nil], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-22 23:18:32.882921' WHERE "product_bundles"."id" = 6[0m
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-22 23:18:32.885574' WHERE "product_bundles"."id" = 7
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-22 23:18:32.887777' WHERE "product_bundles"."id" = 8[0m
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-22 23:18:32.889932' WHERE "product_bundles"."id" = 9
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-22 23:18:32.892151' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (4.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["discounted_price", nil], ["name", "Business 3"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-22 23:18:32.904761' WHERE "product_bundles"."id" = 11[0m
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-22 23:18:32.907204' WHERE "product_bundles"."id" = 12
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-22 23:18:32.909655' WHERE "product_bundles"."id" = 13[0m
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-22 23:18:32.911996' WHERE "product_bundles"."id" = 14
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-22 23:18:32.914176' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["discounted_price", nil], ["name", "Business 4"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-22 23:18:32.926763' WHERE "product_bundles"."id" = 16[0m
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-22 23:18:32.929047' WHERE "product_bundles"."id" = 17
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-22 23:18:32.931321' WHERE "product_bundles"."id" = 18[0m
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-22 23:18:32.933631' WHERE "product_bundles"."id" = 19
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-22 23:18:32.935790' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["discounted_price", nil], ["name", "Business 5"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Fri, 22 Jun 2012 23:18:32 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-22 23:18:32.948429' WHERE "product_bundles"."id" = 21[0m
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-22 23:18:32.950698' WHERE "product_bundles"."id" = 22
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-22 23:18:32.952947' WHERE "product_bundles"."id" = 23[0m
  [1m[35m (0.7ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-22 23:18:32.955061' WHERE "product_bundles"."id" = 24
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-22 23:18:32.957083' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (6.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Fri, 22 Jun 2012 23:18:33 UTC +00:00], ["description", "Description 1"], ["end_date", Mon, 02 Jul 2012 23:18:32 UTC +00:00], ["name", "Promotion 1"], ["start_date", Fri, 22 Jun 2012 23:18:32 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Fri, 22 Jun 2012 23:18:33 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:18:33.009670' WHERE "businesses"."id" = 1[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:18:33.011847' WHERE "businesses"."id" = 2
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:18:33.013327' WHERE "businesses"."id" = 3[0m
  [1m[35m (0.7ms)[0m  UPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:18:33.014783' WHERE "businesses"."id" = 4
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses" SET "promotion_id" = 1, "updated_at" = '2012-06-22 23:18:33.016214' WHERE "businesses"."id" = 5[0m
  [1m[35m (3.3ms)[0m  COMMIT
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2012-06-23 06:19:04 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (1.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 101ms (Views: 80.1ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /jquery.js - 304 Not Modified (8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /promotions.css - 304 Not Modified (34ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:05 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (1.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (1.2ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (1.0ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (203.4ms)
  Rendered promotions/edit.html.erb within layouts/application (211.3ms)
Completed 200 OK in 225ms (Views: 201.2ms | ActiveRecord: 20.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:07 +0700
Served asset /application.js - 304 Not Modified (3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
  [1m[36mProductBundle Load (0.9ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  Rendered promotions/_form.html.erb (81.9ms)
  Rendered promotions/edit.html.erb within layouts/application (83.7ms)
Completed 200 OK in 95ms (Views: 86.4ms | ActiveRecord: 6.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:19:59 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 06:20:29 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"22", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"2", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_attributes"=>{"0"=>{"name"=>"Business 1", "_destroy"=>"false", "id"=>"1"}, "1"=>{"name"=>"Business 2", "_destroy"=>"false", "id"=>"2"}, "2"=>{"name"=>"Business 3", "_destroy"=>"false", "id"=>"3"}, "3"=>{"name"=>"Business 4", "_destroy"=>"false", "id"=>"4"}, "4"=>{"name"=>"Business 5", "_destroy"=>"false", "id"=>"5"}, "5"=>{"product_bundles_attributes"=>{"new_1340407213690"=>{"name"=>"Product Truc 1", "_destroy"=>"false"}, "0"=>{"name"=>"Product Bundle 11", "_destroy"=>"false", "id"=>"1"}, "1"=>{"name"=>"Product Bundle 12", "_destroy"=>"false", "id"=>"2"}, "2"=>{"name"=>"Product Bundle 13", "_destroy"=>"false", "id"=>"3"}, "3"=>{"name"=>"Product Bundle 14", "_destroy"=>"false", "id"=>"4"}, "4"=>{"name"=>"Product Bundle 15", "_destroy"=>"false", "id"=>"5"}}, "id"=>"1"}, "6"=>{"product_bundles_attributes"=>{"0"=>{"name"=>"Product Bundle 21", "_destroy"=>"false", "id"=>"6"}, "1"=>{"name"=>"Product Bundle 22", "_destroy"=>"false", "id"=>"7"}, "2"=>{"name"=>"Product Bundle 23", "_destroy"=>"false", "id"=>"8"}, "3"=>{"name"=>"Product Bundle 24", "_destroy"=>"false", "id"=>"9"}, "4"=>{"name"=>"Product Bundle 25", "_destroy"=>"false", "id"=>"10"}}, "id"=>"2"}, "7"=>{"product_bundles_attributes"=>{"0"=>{"name"=>"Product Bundle 31", "_destroy"=>"false", "id"=>"11"}, "1"=>{"name"=>"Product Bundle 32", "_destroy"=>"false", "id"=>"12"}, "2"=>{"name"=>"Product Bundle 33", "_destroy"=>"false", "id"=>"13"}, "3"=>{"name"=>"Product Bundle 34", "_destroy"=>"false", "id"=>"14"}, "4"=>{"name"=>"Product Bundle 35", "_destroy"=>"false", "id"=>"15"}}, "id"=>"3"}, "8"=>{"product_bundles_attributes"=>{"0"=>{"name"=>"Product Bundle 41", "_destroy"=>"false", "id"=>"16"}, "1"=>{"name"=>"Product Bundle 42", "_destroy"=>"false", "id"=>"17"}, "2"=>{"name"=>"Product Bundle 43", "_destroy"=>"false", "id"=>"18"}, "3"=>{"name"=>"Product Bundle 44", "_destroy"=>"false", "id"=>"19"}, "4"=>{"name"=>"Product Bundle 45", "_destroy"=>"false", "id"=>"20"}}, "id"=>"4"}, "9"=>{"product_bundles_attributes"=>{"0"=>{"name"=>"Product Bundle 51", "_destroy"=>"false", "id"=>"21"}, "1"=>{"name"=>"Product Bundle 52", "_destroy"=>"false", "id"=>"22"}, "2"=>{"name"=>"Product Bundle 53", "_destroy"=>"false", "id"=>"23"}, "3"=>{"name"=>"Product Bundle 54", "_destroy"=>"false", "id"=>"24"}, "4"=>{"name"=>"Product Bundle 55", "_destroy"=>"false", "id"=>"25"}}, "id"=>"5"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1 AND "businesses"."id" IN (1, 2, 3, 4, 5, 1, 2, 3, 4, 5)
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1 AND "product_bundles"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2 AND "product_bundles"."id" IN (6, 7, 8, 9, 10)
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3 AND "product_bundles"."id" IN (11, 12, 13, 14, 15)[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4 AND "product_bundles"."id" IN (16, 17, 18, 19, 20)
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5 AND "product_bundles"."id" IN (21, 22, 23, 24, 25)[0m
  [1m[35m (1.0ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-22 00:00:00.000000', "end_date" = '2012-07-02 00:00:00.000000', "updated_at" = '2012-06-22 23:20:30.036520' WHERE "promotions"."id" = 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 1], ["created_at", Fri, 22 Jun 2012 23:20:30 UTC +00:00], ["name", "Product Truc 1"], ["updated_at", Fri, 22 Jun 2012 23:20:30 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 73ms (ActiveRecord: 17.1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 24ms (Views: 19.5ms | ActiveRecord: 1.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:30 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (1.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (84.2ms)
  Rendered promotions/edit.html.erb within layouts/application (85.6ms)
Completed 200 OK in 96ms (Views: 87.2ms | ActiveRecord: 6.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /application.css - 304 Not Modified (30ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 06:20:32 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:23:34 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (28.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (8.2ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (14.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.9ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  Rendered promotions/_form.html.erb (386.9ms)
  Rendered promotions/edit.html.erb within layouts/application (436.3ms)
Completed 200 OK in 878ms (Views: 760.3ms | ActiveRecord: 95.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /application.css - 200 OK (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /promotions.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /jquery_nested_form.js - 200 OK (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /jquery.js - 200 OK (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /jquery_ujs.js - 200 OK (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:23:36 +0700
Served asset /application.js - 200 OK (37ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.9ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (1.2ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (79.3ms)
  Rendered promotions/edit.html.erb within layouts/application (81.0ms)
Compiled style.css  (86ms)  (pid 3433)
Compiled application.css  (1ms)  (pid 3433)
Completed 200 OK in 191ms (Views: 183.4ms | ActiveRecord: 5.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /application.css - 304 Not Modified (14ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:24:29 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:25:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (1.2ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
  [1m[36mProductBundle Load (1.1ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  Rendered promotions/_form.html.erb (74.4ms)
  Rendered promotions/edit.html.erb within layouts/application (101.6ms)
Compiled style.css  (18ms)  (pid 3433)
Compiled application.css  (1ms)  (pid 3433)
Completed 200 OK in 141ms (Views: 133.8ms | ActiveRecord: 5.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /application.css - 304 Not Modified (9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (81.5ms)
  Rendered promotions/edit.html.erb within layouts/application (82.8ms)
Completed 200 OK in 115ms (Views: 107.4ms | ActiveRecord: 6.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.9ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (1.0ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  Rendered promotions/_form.html.erb (89.9ms)
  Rendered promotions/edit.html.erb within layouts/application (91.0ms)
Completed 200 OK in 101ms (Views: 93.7ms | ActiveRecord: 6.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:25:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:26:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (1.0ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (71.6ms)
  Rendered promotions/edit.html.erb within layouts/application (73.3ms)
Completed 200 OK in 83ms (Views: 76.2ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:26:31 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
  [1m[36mProductBundle Load (1.0ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  Rendered promotions/_form.html.erb (73.5ms)
  Rendered promotions/edit.html.erb within layouts/application (74.7ms)
Completed 200 OK in 82ms (Views: 75.8ms | ActiveRecord: 5.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (1.1ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  Rendered promotions/_form.html.erb (86.6ms)
  Rendered promotions/edit.html.erb within layouts/application (88.3ms)
Completed 200 OK in 99ms (Views: 91.4ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:27:16 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (48.1ms)
  Rendered promotions/edit.html.erb within layouts/application (49.2ms)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (47.5ms)
  Rendered promotions/edit.html.erb within layouts/application (49.4ms)
Completed 200 OK in 60ms (Views: 57.0ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:21 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (52.7ms)
  Rendered promotions/edit.html.erb within layouts/application (54.4ms)
Completed 200 OK in 65ms (Views: 61.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:29:22 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (32.8ms)
  Rendered promotions/edit.html.erb within layouts/application (34.5ms)
Completed 200 OK in 44ms (Views: 41.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:01 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (23.1ms)
  Rendered promotions/edit.html.erb within layouts/application (24.2ms)
Completed 200 OK in 33ms (Views: 30.0ms | ActiveRecord: 1.6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:02 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (47.7ms)
  Rendered promotions/edit.html.erb within layouts/application (48.8ms)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 1.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:03 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:31:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (47.4ms)
  Rendered promotions/edit.html.erb within layouts/application (49.0ms)
Completed 200 OK in 59ms (Views: 55.5ms | ActiveRecord: 1.6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:31:05 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:32:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (60.7ms)
  Rendered promotions/edit.html.erb within layouts/application (64.9ms)
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 1.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (56.9ms)
  Rendered promotions/edit.html.erb within layouts/application (58.0ms)
Completed 200 OK in 68ms (Views: 64.2ms | ActiveRecord: 2.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (84.0ms)
  Rendered promotions/edit.html.erb within layouts/application (85.8ms)
Completed 200 OK in 96ms (Views: 92.9ms | ActiveRecord: 1.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:32:50 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:35:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (107.9ms)
  Rendered promotions/edit.html.erb within layouts/application (109.1ms)
Completed 500 Internal Server Error in 115ms

ActionView::Template::Error (undefined method `id' for #<NestedForm::SimpleBuilder:0xb57da388>):
    22:   </div>
    23:   <div class="businesses-section">
    24:     <%= f.simple_fields_for :businesses do |business| %>
    25:       <div class='business-<%=business.id%>' data-business-id = '<%=business.id%>'>
    26:         <div class="field">
    27:           <%= business.input :name %>
    28:         </div>
  app/views/promotions/_form.html.erb:25:in `block (2 levels) in _app_views_promotions__form_html_erb___831087776__633299768'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__633299768'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__633299768'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (14.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (24.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (47.4ms)
  Rendered promotions/edit.html.erb within layouts/application (48.6ms)
Completed 200 OK in 57ms (Views: 54.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /promotions.js - 304 Not Modified (31ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:35:43 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.0ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (49.3ms)
  Rendered promotions/edit.html.erb within layouts/application (51.2ms)
Completed 200 OK in 62ms (Views: 58.2ms | ActiveRecord: 2.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (26ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:37:01 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (55.2ms)
  Rendered promotions/edit.html.erb within layouts/application (56.3ms)
Compiled style.css  (18ms)  (pid 3433)
Compiled application.css  (1ms)  (pid 3433)
Completed 200 OK in 125ms (Views: 122.3ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:38:05 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (79.8ms)
  Rendered promotions/edit.html.erb within layouts/application (80.5ms)
Completed 500 Internal Server Error in 84ms

ActionView::Template::Error (undefined method `id' for #<NestedForm::SimpleBuilder:0xb4e2d8bc>):
    22:   </div>
    23:   <div class="businesses-section">
    24:     <%= f.simple_fields_for :businesses do |business| %>
    25:       <%=status = f.object.businesses.first.id == business.id ? "block" : "none" %>
    26:       <div class='business-<%=business.object.id%>' data-business-id = '<%=business.object.id%>' style ='display:<%=status %>'>
    27:         <div class="field">
    28:           <%= business.input :name %>
  app/views/promotions/_form.html.erb:25:in `block (2 levels) in _app_views_promotions__form_html_erb___831087776__621680938'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__621680938'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__621680938'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (74.3ms)
  Rendered promotions/edit.html.erb within layouts/application (76.3ms)
Completed 200 OK in 84ms (Views: 82.1ms | ActiveRecord: 1.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (76.4ms)
  Rendered promotions/edit.html.erb within layouts/application (78.0ms)
Completed 200 OK in 86ms (Views: 83.6ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:38 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (82.5ms)
  Rendered promotions/edit.html.erb within layouts/application (84.4ms)
Completed 200 OK in 95ms (Views: 91.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:39 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (72.3ms)
  Rendered promotions/edit.html.erb within layouts/application (73.7ms)
Completed 200 OK in 83ms (Views: 80.0ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (72.5ms)
  Rendered promotions/edit.html.erb within layouts/application (73.6ms)
Completed 200 OK in 81ms (Views: 78.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:40:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.2ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (77.6ms)
  Rendered promotions/edit.html.erb within layouts/application (79.2ms)
Completed 200 OK in 89ms (Views: 85.8ms | ActiveRecord: 2.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:41:07 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (81.3ms)
  Rendered promotions/edit.html.erb within layouts/application (82.5ms)
Completed 200 OK in 91ms (Views: 87.7ms | ActiveRecord: 2.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:43:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (75.0ms)
  Rendered promotions/edit.html.erb within layouts/application (76.2ms)
Completed 200 OK in 85ms (Views: 82.1ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:25 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (75.3ms)
  Rendered promotions/edit.html.erb within layouts/application (76.5ms)
Completed 200 OK in 84ms (Views: 82.4ms | ActiveRecord: 1.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:44:52 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (81.9ms)
  Rendered promotions/edit.html.erb within layouts/application (83.3ms)
Compiled style.css  (19ms)  (pid 3433)
Compiled application.css  (1ms)  (pid 3433)
Completed 200 OK in 124ms (Views: 121.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:46:05 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (79.9ms)
  Rendered promotions/edit.html.erb within layouts/application (81.5ms)
Completed 200 OK in 91ms (Views: 87.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:47:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (73.5ms)
  Rendered promotions/edit.html.erb within layouts/application (75.2ms)
Completed 200 OK in 86ms (Views: 82.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (26ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:48:07 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:49:02 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (50.2ms)
  Rendered promotions/edit.html.erb within layouts/application (51.3ms)
Compiled promotions.js  (502ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 644ms (Views: 640.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:49:03 +0700
Served asset /application.js - 304 Not Modified (47ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:52:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (54.5ms)
  Rendered promotions/edit.html.erb within layouts/application (56.3ms)
Completed 500 Internal Server Error in 232ms

ActionView::Template::Error (Error: Parse error on line 7: Unexpected 'CALL_START'
  (in /home/trucntt/working/promotion-demo/app/assets/javascripts/promotions.js.coffee)):
    3: <head>
    4:   <title>PromotionDemo</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__545466005_88448680'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:54:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (83.5ms)
  Rendered promotions/edit.html.erb within layouts/application (85.4ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (9ms)  (pid 3433)
Completed 200 OK in 117ms (Views: 112.9ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /application.css - 304 Not Modified (34ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:54:36 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (81.8ms)
  Rendered promotions/edit.html.erb within layouts/application (83.5ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 111ms (Views: 107.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:55:17 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:55:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:55:18 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:58:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (73.4ms)
  Rendered promotions/edit.html.erb within layouts/application (74.6ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 124ms (Views: 122.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:43 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:44 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (78.1ms)
  Rendered promotions/edit.html.erb within layouts/application (79.2ms)
Completed 200 OK in 87ms (Views: 84.2ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:58:45 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:59:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (73.6ms)
  Rendered promotions/edit.html.erb within layouts/application (74.6ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 124ms (Views: 121.3ms | ActiveRecord: 1.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:12 +0700
Served asset /application.js - 304 Not Modified (11ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (73.4ms)
  Rendered promotions/edit.html.erb within layouts/application (74.5ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 100ms (Views: 96.7ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:27 +0700
Served asset /application.js - 304 Not Modified (35ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 09:59:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.9ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (57.5ms)
  Rendered promotions/edit.html.erb within layouts/application (59.2ms)
Completed 200 OK in 70ms (Views: 66.1ms | ActiveRecord: 1.8ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 09:59:30 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (47.4ms)
  Rendered promotions/edit.html.erb within layouts/application (48.6ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 99ms (Views: 96.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:48 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (72.6ms)
  Rendered promotions/edit.html.erb within layouts/application (74.1ms)
Completed 200 OK in 81ms (Views: 78.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:00:51 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (75.3ms)
  Rendered promotions/edit.html.erb within layouts/application (76.6ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 128ms (Views: 125.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:01:09 +0700
Served asset /application.js - 304 Not Modified (11ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:01:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (76.9ms)
  Rendered promotions/edit.html.erb within layouts/application (78.0ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 103ms (Views: 100.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:00 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:02:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.1ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (78.6ms)
  Rendered promotions/edit.html.erb within layouts/application (80.2ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 131ms (Views: 127.6ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:02:12 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.1ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (80.7ms)
  Rendered promotions/edit.html.erb within layouts/application (81.8ms)
Compiled promotions.js  (0ms)  (pid 3433)
Compiled application.js  (3ms)  (pid 3433)
Completed 200 OK in 134ms (Views: 130.0ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:01 +0700
Served asset /application.js - 304 Not Modified (10ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.8ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1
  Rendered promotions/_form.html.erb (78.9ms)
  Rendered promotions/edit.html.erb within layouts/application (80.5ms)
Completed 200 OK in 90ms (Views: 86.8ms | ActiveRecord: 1.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:03:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:08:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
ERROR: compiling _app_views_promotions__form_html_erb___831087776__626157238 RAISED /home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ',', expecting ')'
...romotion.businesses.map(&:name, &:id), "id", "name"));@outpu...
...                               ^
/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
...ap(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_promotions__form_html_erb___831087776__626157238(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "promotions/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  simple_nested_form_for(@promotion) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :start_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :end_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :sub_title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :subject );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :description );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class=\'businesses-select\'>
    ');@output_buffer.append= (select_tag "business", options_from_collection_for_select(@promotion.businesses.map(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="businesses-section">
    ');@output_buffer.append=  f.simple_fields_for :businesses do |business| @output_buffer.safe_concat('
');       status = f.object.businesses.first.id == business.object.id ? "block" : "none" 
@output_buffer.safe_concat('        <div class="field">
          ');@output_buffer.append= ( business.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :retail_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :discounted_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        ');@output_buffer.append= ( business.link_to_remove "Remove this business" );@output_buffer.safe_concat('
');     end 
@output_buffer.safe_concat('    <p>');@output_buffer.append= ( f.link_to_add "Add a business", :businesses );@output_buffer.safe_concat('</p>
  </div>
  
  <br/>
  
  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `module_eval'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `compile'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:232:in `compile!'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:144:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:265:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:238:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:237:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/home/trucntt/working/promotion-demo/app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:145:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:18:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:17:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:110:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:88:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:16:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:167:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:414:in `_run__698412568__process_action__116081430__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:121:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:45:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:203:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:246:in `block in action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:36:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:600:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/etag.rb:23:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/conditionalget.rb:25:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/flash.rb:238:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/cookies.rb:338:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/query_cache.rb:64:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `_run__673923825__call__506589676__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:26:in `call_app'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/static.rb:62:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/engine.rb:479:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/application.rb:220:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/content_length.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/log_tailer.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/handler/webrick.rb:59:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered promotions/_form.html.erb (1.4ms)
  Rendered promotions/edit.html.erb within layouts/application (1.9ms)
Completed 500 Internal Server Error in 6ms

ActionView::Template::Error (/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ',', expecting ')'
...romotion.businesses.map(&:name, &:id), "id", "name"));@outpu...
...                               ^
/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
...ap(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
...                               ^):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.map(&:name, &:id), "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:08:38 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
ERROR: compiling _app_views_promotions__form_html_erb___831087776__626157238 RAISED /home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ',', expecting ')'
...romotion.businesses.map(&:name, &:id), "id", "name"));@outpu...
...                               ^
/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
...ap(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_promotions__form_html_erb___831087776__626157238(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "promotions/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  simple_nested_form_for(@promotion) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :start_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :end_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :sub_title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :subject );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :description );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class=\'businesses-select\'>
    ');@output_buffer.append= (select_tag "business", options_from_collection_for_select(@promotion.businesses.map(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="businesses-section">
    ');@output_buffer.append=  f.simple_fields_for :businesses do |business| @output_buffer.safe_concat('
');       status = f.object.businesses.first.id == business.object.id ? "block" : "none" 
@output_buffer.safe_concat('        <div class="field">
          ');@output_buffer.append= ( business.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :retail_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :discounted_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        ');@output_buffer.append= ( business.link_to_remove "Remove this business" );@output_buffer.safe_concat('
');     end 
@output_buffer.safe_concat('    <p>');@output_buffer.append= ( f.link_to_add "Add a business", :businesses );@output_buffer.safe_concat('</p>
  </div>
  
  <br/>
  
  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `module_eval'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `compile'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:232:in `compile!'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:144:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:265:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:238:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:237:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/home/trucntt/working/promotion-demo/app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:145:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:18:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:17:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:110:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:88:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:16:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:167:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:414:in `_run__698412568__process_action__116081430__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:121:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:45:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:203:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:246:in `block in action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:36:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:600:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/etag.rb:23:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/conditionalget.rb:25:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/flash.rb:238:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/cookies.rb:338:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/query_cache.rb:64:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `_run__673923825__call__506589676__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:26:in `call_app'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/static.rb:62:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/engine.rb:479:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/application.rb:220:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/content_length.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/log_tailer.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/handler/webrick.rb:59:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered promotions/_form.html.erb (1.4ms)
  Rendered promotions/edit.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 6ms

ActionView::Template::Error (/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ',', expecting ')'
...romotion.businesses.map(&:name, &:id), "id", "name"));@outpu...
...                               ^
/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
...ap(&:name, &:id), "id", "name"));@output_buffer.safe_concat('
...                               ^):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.map(&:name, &:id), "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)
Connecting to database specified by database.yml


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:27:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
ERROR: compiling _app_views_promotions__form_html_erb___831087776__621275298 RAISED /home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_promotions__form_html_erb___831087776__621275298(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "promotions/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  simple_nested_form_for(@promotion) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :start_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :end_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :sub_title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :subject );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :description );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class=\'businesses-select\'>
    ');@output_buffer.append= (select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="businesses-section">
    ');@output_buffer.append=  f.simple_fields_for :businesses do |business| @output_buffer.safe_concat('
');       status = f.object.businesses.first.id == business.object.id ? "block" : "none" 
@output_buffer.safe_concat('        <div class="field">
          ');@output_buffer.append= ( business.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :retail_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :discounted_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        ');@output_buffer.append= ( business.link_to_remove "Remove this business" );@output_buffer.safe_concat('
');     end 
@output_buffer.safe_concat('    <p>');@output_buffer.append= ( f.link_to_add "Add a business", :businesses );@output_buffer.safe_concat('</p>
  </div>
  
  <br/>
  
  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `module_eval'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `compile'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:232:in `compile!'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:144:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:265:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:238:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:237:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/home/trucntt/working/promotion-demo/app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:145:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:18:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:17:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:110:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:88:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:16:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:167:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:414:in `_run__698412568__process_action__116081430__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:121:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:45:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:203:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:246:in `block in action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:36:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:600:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/etag.rb:23:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/conditionalget.rb:25:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/flash.rb:238:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/cookies.rb:338:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/query_cache.rb:64:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `_run__673923825__call__506589676__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:26:in `call_app'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/static.rb:62:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/engine.rb:479:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/application.rb:220:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/content_length.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/log_tailer.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/handler/webrick.rb:59:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered promotions/_form.html.erb (1.7ms)
  Rendered promotions/edit.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:27:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
ERROR: compiling _app_views_promotions__form_html_erb___831087776__621275298 RAISED /home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_promotions__form_html_erb___831087776__621275298(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "promotions/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  simple_nested_form_for(@promotion) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :start_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :end_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :sub_title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :subject );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :description );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class=\'businesses-select\'>
    ');@output_buffer.append= (select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="businesses-section">
    ');@output_buffer.append=  f.simple_fields_for :businesses do |business| @output_buffer.safe_concat('
');       status = f.object.businesses.first.id == business.object.id ? "block" : "none" 
@output_buffer.safe_concat('        <div class="field">
          ');@output_buffer.append= ( business.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :retail_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :discounted_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        ');@output_buffer.append= ( business.link_to_remove "Remove this business" );@output_buffer.safe_concat('
');     end 
@output_buffer.safe_concat('    <p>');@output_buffer.append= ( f.link_to_add "Add a business", :businesses );@output_buffer.safe_concat('</p>
  </div>
  
  <br/>
  
  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `module_eval'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `compile'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:232:in `compile!'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:144:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:265:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:238:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:237:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/home/trucntt/working/promotion-demo/app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:145:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:18:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:17:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:110:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:88:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:16:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:167:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:414:in `_run__698412568__process_action__116081430__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:121:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:45:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:203:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:246:in `block in action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:36:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:600:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/etag.rb:23:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/conditionalget.rb:25:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/flash.rb:238:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/cookies.rb:338:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/query_cache.rb:64:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `_run__673923825__call__506589676__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:26:in `call_app'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/static.rb:62:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/engine.rb:479:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/application.rb:220:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/content_length.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/log_tailer.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/handler/webrick.rb:59:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered promotions/_form.html.erb (2.8ms)
  Rendered promotions/edit.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (39.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:27:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
ERROR: compiling _app_views_promotions__form_html_erb___831087776__621275298 RAISED /home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^
Function body:           def _app_views_promotions__form_html_erb___831087776__621275298(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "promotions/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  simple_nested_form_for(@promotion) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  <div class="field">
    ');@output_buffer.append= ( f.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :start_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :end_date, :as => :date );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :sub_title );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :subject );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.input :description );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class=\'businesses-select\'>
    ');@output_buffer.append= (select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="businesses-section">
    ');@output_buffer.append=  f.simple_fields_for :businesses do |business| @output_buffer.safe_concat('
');       status = f.object.businesses.first.id == business.object.id ? "block" : "none" 
@output_buffer.safe_concat('        <div class="field">
          ');@output_buffer.append= ( business.input :name );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :retail_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        <div class="field">
          ');@output_buffer.append= ( business.input :discounted_price );@output_buffer.safe_concat('
');@output_buffer.safe_concat('        </div>
        ');@output_buffer.append= ( business.link_to_remove "Remove this business" );@output_buffer.safe_concat('
');     end 
@output_buffer.safe_concat('    <p>');@output_buffer.append= ( f.link_to_add "Add a business", :businesses );@output_buffer.safe_concat('</p>
  </div>
  
  <br/>
  
  <div class="actions">
    ');@output_buffer.append= ( f.submit );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end ;@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `module_eval'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:297:in `compile'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:244:in `block in compile!'
<internal:prelude>:10:in `synchronize'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:232:in `compile!'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:144:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:265:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:238:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/partial_renderer.rb:237:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/home/trucntt/working/promotion-demo/app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:145:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:125:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/template.rb:143:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:45:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/template_renderer.rb:18:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_view/renderer/renderer.rb:17:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:110:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/streaming.rb:225:in `_render_template'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:103:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/renderers.rb:28:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:88:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:16:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:167:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:414:in `_run__698412568__process_action__116081430__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `block in instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/notifications.rb:123:in `instrument'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/base.rb:121:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/abstract_controller/rendering.rb:45:in `process'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:203:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_controller/metal.rb:246:in `block in action'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:36:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/routing/route_set.rb:600:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/etag.rb:23:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/conditionalget.rb:25:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/flash.rb:238:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/cookies.rb:338:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/query_cache.rb:64:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activerecord-3.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `_run__673923825__call__506589676__callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:405:in `__run_callback'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/reloader.rb:65:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:26:in `call_app'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/logger.rb:16:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/request_id.rb:22:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/activesupport-3.2.5/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/static.rb:62:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/engine.rb:479:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/application.rb:220:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/content_length.rb:14:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/railties-3.2.5/lib/rails/rack/log_tailer.rb:17:in `call'
/home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/rack-1.4.1/lib/rack/handler/webrick.rb:59:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  Rendered promotions/_form.html.erb (1.9ms)
  Rendered promotions/edit.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (/home/trucntt/working/promotion-demo/app/views/promotions/_form.html.erb:24: syntax error, unexpected ')', expecting keyword_end
... [b.id,b.name]}, "id", "name"));@output_buffer.safe_concat('
...                               ^):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", @promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:27:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (18.9ms)
  Rendered promotions/edit.html.erb within layouts/application (19.4ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__623216538'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__623216538'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:27:57 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.2ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (43.8ms)
  Rendered promotions/edit.html.erb within layouts/application (44.4ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__623216538'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__623216538'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (19.9ms)
  Rendered promotions/edit.html.erb within layouts/application (21.0ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (wrong number of arguments (1 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (47.2ms)
  Rendered promotions/edit.html.erb within layouts/application (48.4ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (wrong number of arguments (1 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (18.0ms)
  Rendered promotions/edit.html.erb within layouts/application (19.1ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (wrong number of arguments (1 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:15 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (46.4ms)
  Rendered promotions/edit.html.erb within layouts/application (47.0ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (wrong number of arguments (1 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__624267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:46 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (1.0ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (20.4ms)
  Rendered promotions/edit.html.erb within layouts/application (21.6ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (29.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (37.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:47 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (21.8ms)
  Rendered promotions/edit.html.erb within layouts/application (22.4ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (49.4ms)
  Rendered promotions/edit.html.erb within layouts/application (50.8ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (23.1ms)
  Rendered promotions/edit.html.erb within layouts/application (24.2ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (44.1ms)
  Rendered promotions/edit.html.erb within layouts/application (45.2ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:51 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (20.1ms)
  Rendered promotions/edit.html.erb within layouts/application (20.9ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:28:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.9ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (45.8ms)
  Rendered promotions/edit.html.erb within layouts/application (47.0ms)
Completed 500 Internal Server Error in 53ms

ActionView::Template::Error (undefined method `name' for [1, "Business 1"]:Array):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, "id", "name")%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__626159838'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:32:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (19.5ms)
  Rendered promotions/edit.html.erb within layouts/application (20.1ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (wrong number of arguments (2 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:32:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (43.2ms)
  Rendered promotions/edit.html.erb within layouts/application (43.8ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (wrong number of arguments (2 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:32:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (1.0ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (23.5ms)
  Rendered promotions/edit.html.erb within layouts/application (25.3ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (wrong number of arguments (2 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:32:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (43.5ms)
  Rendered promotions/edit.html.erb within layouts/application (44.1ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (wrong number of arguments (2 for 3)):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_from_collection_for_select(@promotion.businesses.collect{|b| [b.id,b.name]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__625391918'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (82.1ms)
  Rendered promotions/edit.html.erb within layouts/application (84.5ms)
Completed 200 OK in 95ms (Views: 91.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:33:39 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (23.2ms)
  Rendered promotions/edit.html.erb within layouts/application (24.0ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (undefined method `value' for #<Business:0xb5513960>):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_for_select(@promotion.businesses.collect{|b| [b.name,b.value]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block (2 levels) in _app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (39.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:33:40 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (22.7ms)
  Rendered promotions/edit.html.erb within layouts/application (23.8ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (undefined method `value' for #<Business:0xb621c184>):
    21:     <%= f.input :description %>
    22:   </div>
    23:   <div class='businesses-select'>
    24:     <%=select_tag "business", options_for_select(@promotion.businesses.collect{|b| [b.name,b.value]}, {:include_blank => true})%>
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
  app/views/promotions/_form.html.erb:24:in `block (2 levels) in _app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___831087776__630105478'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___25499188_88424180'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (80.9ms)
  Rendered promotions/edit.html.erb within layouts/application (82.7ms)
Completed 200 OK in 93ms (Views: 89.4ms | ActiveRecord: 1.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 10:33:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (5046.1ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
PG::Error: ERROR:  database "promotion_dev_1" is being accessed by other users
DETAIL:  There are 2 other session(s) using the database.
: DROP DATABASE IF EXISTS "promotion_dev_1"
  [1m[35m (382.1ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (2020.8ms)[0m  [1mCREATE DATABASE "promotion_test" ENCODING = 'utf8'[0m
  [1m[35m (179.2ms)[0m  DROP TABLE "businesses"
  [1m[36m (333.0ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (10.1ms)[0m  DROP TABLE "product_bundles"
  [1m[36m (54.9ms)[0m  [1mCREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (55.2ms)[0m  DROP TABLE "promotions"
  [1m[36m (99.0ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (12.4ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (217.4ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (223.5ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (641.1ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (573.9ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (114.9ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (54.1ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (76.2ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (25.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (51.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (42.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (32.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (25.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.2ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (62.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (105.2ms)[0m  CREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')[0m
  [1m[35m (16.5ms)[0m  COMMIT
Migrating to CreateBusinesses (20120622215943)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (90.2ms)[0m  CREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622215943')[0m
  [1m[35m (16.2ms)[0m  COMMIT
Migrating to CreateProductBundles (20120622220011)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (57.5ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622220011')[0m
  [1m[35m (16.5ms)[0m  COMMIT
Migrating to CreateBusinessesPromotions (20120623041909)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (37.0ms)[0m  CREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120623041909')[0m
  [1m[35m (15.9ms)[0m  COMMIT
Migrating to CreateBusinessesProductBundles (20120623042503)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (36.1ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120623042503')[0m
  [1m[35m (15.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (31.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (2.5ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_product_bundles"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_promotions"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass

  [1m[36m (1.1ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.1ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (39.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[35m (19.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 04:33:05 UTC +00:00]]
  [1m[35m (8.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:06 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 04:33:06 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
Connecting to database specified by database.yml
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[35m (16.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 04:33:15 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
Connecting to database specified by database.yml
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35m (21.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["discounted_price", nil], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 21], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 22], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 23], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 24], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 25], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["discounted_price", nil], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 26], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 27], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 28], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 29], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00], ["product_bundle_id", 30], ["updated_at", Sat, 23 Jun 2012 04:33:47 UTC +00:00]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
Connecting to database specified by database.yml
  [1m[36m (0.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (24.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (9.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["discounted_price", nil], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 31], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 32], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 33], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 34], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 35], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["discounted_price", nil], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", nil], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 36], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 37], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 38], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 39], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses_product_bundles" ("business_id", "created_at", "product_bundle_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 40], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["business_id", 3], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 31], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["business_id", 4], ["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["product_bundle_id", 36], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["description", "Description 1"], ["end_date", Tue, 03 Jul 2012 04:34:05 UTC +00:00], ["name", "Promotion 1"], ["start_date", Sat, 23 Jun 2012 04:34:05 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Sat, 23 Jun 2012 04:34:05 UTC +00:00]]
  [1m[35m (0.8ms)[0m  UPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 04:34:05.804497' WHERE "businesses_promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 04:34:05.807043' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (2.0ms)[0m  COMMIT


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:35:15 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  Rendered promotions/_form.html.erb (156.8ms)
  Rendered promotions/edit.html.erb within layouts/application (183.7ms)
Completed 500 Internal Server Error in 230ms

ActionView::Template::Error (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
    25:   </div>
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses do |business| %>
    28:       <% status = f.object.businesses.first.id == business.object.id ? "block" : "none" %>
    29:         <div class="field">
    30:           <%= business.input :name %>
    31:         </div>
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260_82381070'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260_82381070'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260_82381070'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:43:28 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (81.9ms)
  Rendered promotions/edit.html.erb within layouts/application (82.6ms)
Completed 500 Internal Server Error in 98ms

ActionView::Template::Error (undefined method `name' for #<BusinessesPromotion:0xb5c534a0>):
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses_promotions do |businesses_promotion| %>
    28:       <div class="field">
    29:         <%= businesses_promotion.input :name %>
    30:       </div>
    31:       <%= businesses_promotion.simple_fields_for :business do |business|%>
    32:         <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:43:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  Rendered promotions/_form.html.erb (50.6ms)
  Rendered promotions/edit.html.erb within layouts/application (51.2ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (undefined method `name' for #<BusinessesPromotion:0xa952f2c>):
    26:   <div class="businesses-section">
    27:     <%= f.simple_fields_for :businesses_promotions do |businesses_promotion| %>
    28:       <div class="field">
    29:         <%= businesses_promotion.input :name %>
    30:       </div>
    31:       <%= businesses_promotion.simple_fields_for :business do |business|%>
    32:         <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260__622572788'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:43:58 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.5ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  Rendered promotions/_form.html.erb (66.3ms)
  Rendered promotions/edit.html.erb within layouts/application (67.0ms)
Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (undefined local variable or method `businesses_promotions' for #<#<Class:0xb5de5638>:0xb576810c>):
    36:           <%= business.input :discounted_price %>
    37:         </div>
    38:       <%end%>
    39:       <%= businesses_promotions.link_to_remove "Remove this businesses_promotions" %>
    40:     <% end %>
    41:     <p><%= f.link_to_add "Add a businesses_promotions", :businesses_promotions %></p>
    42:   </div>
  app/views/promotions/_form.html.erb:39:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:43:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.4ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  Rendered promotions/_form.html.erb (59.6ms)
  Rendered promotions/edit.html.erb within layouts/application (60.3ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (undefined local variable or method `businesses_promotions' for #<#<Class:0xb5de5638>:0xb5d9b178>):
    36:           <%= business.input :discounted_price %>
    37:         </div>
    38:       <%end%>
    39:       <%= businesses_promotions.link_to_remove "Remove this businesses_promotions" %>
    40:     <% end %>
    41:     <p><%= f.link_to_add "Add a businesses_promotions", :businesses_promotions %></p>
    42:   </div>
  app/views/promotions/_form.html.erb:39:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:44:00 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.4ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  Rendered promotions/_form.html.erb (33.5ms)
  Rendered promotions/edit.html.erb within layouts/application (34.1ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (undefined local variable or method `businesses_promotions' for #<#<Class:0xb5de5638>:0xb5c618fc>):
    36:           <%= business.input :discounted_price %>
    37:         </div>
    38:       <%end%>
    39:       <%= businesses_promotions.link_to_remove "Remove this businesses_promotions" %>
    40:     <% end %>
    41:     <p><%= f.link_to_add "Add a businesses_promotions", :businesses_promotions %></p>
    42:   </div>
  app/views/promotions/_form.html.erb:39:in `block (2 levels) in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:27:in `block in _app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__861629260__625267818'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__1065507105_85854040'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:44:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.4ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  Rendered promotions/_form.html.erb (71.7ms)
  Rendered promotions/edit.html.erb within layouts/application (73.1ms)
Compiled promotions.js  (0ms)  (pid 7697)
Compiled application.js  (3ms)  (pid 7697)
Completed 200 OK in 132ms (Views: 127.8ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /jquery.js - 304 Not Modified (30ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:44:17 +0700
Served asset /application.js - 304 Not Modified (6ms)
Connecting to database specified by database.yml
  [1m[36m (218.5ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (222.6ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (652.2ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (617.7ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (116.1ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.2ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (65.3ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (54.3ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (98.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.9ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (52.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (11.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (8.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (9.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (9.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["discounted_price", 200], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", 100], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (0.8ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 04:46:01.518446' WHERE "product_bundles"."id" = 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 04:46:01.520994' WHERE "product_bundles"."id" = 2[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 04:46:01.522176' WHERE "product_bundles"."id" = 3
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 04:46:01.523279' WHERE "product_bundles"."id" = 4[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 04:46:01.524418' WHERE "product_bundles"."id" = 5
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["discounted_price", 400], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", 300], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 04:46:01.534345' WHERE "product_bundles"."id" = 6
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 04:46:01.535724' WHERE "product_bundles"."id" = 7[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 04:46:01.536872' WHERE "product_bundles"."id" = 8
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 04:46:01.537975' WHERE "product_bundles"."id" = 9[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 04:46:01.539121' WHERE "product_bundles"."id" = 10
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["product_bundle_id", 1], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["product_bundle_id", 6], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["created_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["description", "Description 1"], ["end_date", Tue, 03 Jul 2012 04:46:01 UTC +00:00], ["name", "Promotion 1"], ["start_date", Sat, 23 Jun 2012 04:46:01 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Sat, 23 Jun 2012 04:46:01 UTC +00:00]]
  [1m[35m (0.6ms)[0m  UPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 04:46:01.637487' WHERE "businesses_promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 04:46:01.639306' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (12.8ms)[0m  COMMIT


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:46:21 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusiness Load (1.0ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (185.4ms)
  Rendered promotions/edit.html.erb within layouts/application (212.8ms)
Completed 200 OK in 301ms (Views: 252.5ms | ActiveRecord: 13.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:46:21 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /style.css - 304 Not Modified (8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:46:22 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (66.2ms)
  Rendered promotions/edit.html.erb within layouts/application (67.5ms)
Completed 200 OK in 76ms (Views: 71.5ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:50:31 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:51:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (67.6ms)
  Rendered promotions/edit.html.erb within layouts/application (68.9ms)
Completed 200 OK in 77ms (Views: 72.8ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:51:53 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (64.1ms)
  Rendered promotions/edit.html.erb within layouts/application (65.3ms)
Compiled style.css  (28ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 116ms (Views: 112.4ms | ActiveRecord: 2.9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:53:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (72.3ms)
  Rendered promotions/edit.html.erb within layouts/application (73.6ms)
Compiled style.css  (22ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 117ms (Views: 113.0ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /application.css - 304 Not Modified (40ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:54:30 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (40.1ms)
  Rendered promotions/edit.html.erb within layouts/application (41.5ms)
Completed 200 OK in 49ms (Views: 45.2ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /style.css - 304 Not Modified (27ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 11:59:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (42.5ms)
  Rendered promotions/edit.html.erb within layouts/application (43.7ms)
Completed 200 OK in 51ms (Views: 47.2ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (28ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:25 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (41.2ms)
  Rendered promotions/edit.html.erb within layouts/application (42.4ms)
Completed 200 OK in 51ms (Views: 46.2ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:00:35 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (65.0ms)
  Rendered promotions/edit.html.erb within layouts/application (66.3ms)
Compiled style.css  (23ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 111ms (Views: 106.8ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /application.css - 304 Not Modified (8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /style.css - 200 OK (30ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:01:32 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (40.1ms)
  Rendered promotions/edit.html.erb within layouts/application (41.2ms)
Compiled style.css  (22ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 112ms (Views: 107.4ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /application.css - 304 Not Modified (12ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:02:24 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (39.1ms)
  Rendered promotions/edit.html.erb within layouts/application (40.1ms)
Compiled style.css  (49ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 110ms (Views: 105.5ms | ActiveRecord: 3.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:03:58 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:04:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (73.2ms)
  Rendered promotions/edit.html.erb within layouts/application (74.4ms)
Completed 200 OK in 82ms (Views: 78.1ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:04:54 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:05:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (67.8ms)
  Rendered promotions/edit.html.erb within layouts/application (69.1ms)
Completed 200 OK in 77ms (Views: 72.7ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:05:57 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (41.9ms)
  Rendered promotions/edit.html.erb within layouts/application (43.0ms)
Completed 200 OK in 76ms (Views: 72.1ms | ActiveRecord: 3.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:06:45 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (40.6ms)
  Rendered promotions/edit.html.erb within layouts/application (41.7ms)
Compiled style.css  (23ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 112ms (Views: 108.2ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /application.css - 304 Not Modified (8ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:07:54 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (67.3ms)
  Rendered promotions/edit.html.erb within layouts/application (68.5ms)
Compiled style.css  (22ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 114ms (Views: 109.8ms | ActiveRecord: 3.1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /style.css - 200 OK (7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:08:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:12:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (69.0ms)
  Rendered promotions/edit.html.erb within layouts/application (70.3ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 95ms (Views: 91.2ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:05 +0700
Served asset /application.js - 304 Not Modified (37ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (40.7ms)
  Rendered promotions/edit.html.erb within layouts/application (41.8ms)
Completed 200 OK in 49ms (Views: 45.5ms | ActiveRecord: 3.0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:07 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:12:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (41.5ms)
  Rendered promotions/edit.html.erb within layouts/application (42.8ms)
Compiled style.css  (21ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 85ms (Views: 80.7ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /application.css - 304 Not Modified (37ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:12:28 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (41.7ms)
  Rendered promotions/edit.html.erb within layouts/application (42.8ms)
Compiled style.css  (23ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 116ms (Views: 112.0ms | ActiveRecord: 3.2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:08 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (40.8ms)
  Rendered promotions/edit.html.erb within layouts/application (41.9ms)
Completed 200 OK in 76ms (Views: 71.9ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:13:48 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (41.7ms)
  Rendered promotions/edit.html.erb within layouts/application (42.8ms)
Completed 200 OK in 50ms (Views: 45.9ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /application.css - 304 Not Modified (29ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:15:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (40.1ms)
  Rendered promotions/edit.html.erb within layouts/application (41.2ms)
Completed 200 OK in 49ms (Views: 44.3ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (32ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:32 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (38.3ms)
  Rendered promotions/edit.html.erb within layouts/application (39.3ms)
Completed 200 OK in 47ms (Views: 42.3ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (66.7ms)
  Rendered promotions/edit.html.erb within layouts/application (67.9ms)
Completed 200 OK in 75ms (Views: 71.5ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:56 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (72.7ms)
  Rendered promotions/edit.html.erb within layouts/application (74.1ms)
Completed 200 OK in 82ms (Views: 77.9ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:16:58 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (73.5ms)
  Rendered promotions/edit.html.erb within layouts/application (74.9ms)
Completed 200 OK in 83ms (Views: 78.3ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /jquery.js - 304 Not Modified (8ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:07 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (63.1ms)
  Rendered promotions/edit.html.erb within layouts/application (64.2ms)
Completed 200 OK in 71ms (Views: 67.7ms | ActiveRecord: 2.7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:17:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (67.1ms)
  Rendered promotions/edit.html.erb within layouts/application (68.3ms)
Completed 200 OK in 76ms (Views: 71.9ms | ActiveRecord: 2.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:18:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (68.0ms)
  Rendered promotions/edit.html.erb within layouts/application (69.3ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 94ms (Views: 90.3ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:06 +0700
Served asset /application.js - 304 Not Modified (35ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (41.8ms)
  Rendered promotions/edit.html.erb within layouts/application (43.0ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:44 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:19:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (64.9ms)
  Rendered promotions/edit.html.erb within layouts/application (66.0ms)
Completed 200 OK in 73ms (Views: 69.3ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:45 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:19:46 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:46 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:19:46 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (62.3ms)
  Rendered promotions/edit.html.erb within layouts/application (63.3ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 88ms (Views: 84.1ms | ActiveRecord: 2.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:04 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (37.9ms)
  Rendered promotions/edit.html.erb within layouts/application (39.0ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 89ms (Views: 85.3ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:18 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (64.8ms)
  Rendered promotions/edit.html.erb within layouts/application (65.9ms)
Completed 200 OK in 73ms (Views: 69.5ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (70.0ms)
  Rendered promotions/edit.html.erb within layouts/application (71.2ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 120ms (Views: 115.8ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:20:48 +0700
Served asset /application.js - 304 Not Modified (9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:21:02 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (37.9ms)
  Rendered promotions/edit.html.erb within layouts/application (38.9ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 90ms (Views: 85.9ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:03 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.9ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (98.5ms)
  Rendered promotions/edit.html.erb within layouts/application (100.0ms)
Completed 200 OK in 109ms (Views: 103.8ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /jquery_ujs.js - 304 Not Modified (6ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:21:53 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:22:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (63.5ms)
  Rendered promotions/edit.html.erb within layouts/application (64.6ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 115ms (Views: 111.0ms | ActiveRecord: 2.7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:18 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (38.8ms)
  Rendered promotions/edit.html.erb within layouts/application (39.8ms)
Completed 200 OK in 72ms (Views: 68.6ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:19 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (40.1ms)
  Rendered promotions/edit.html.erb within layouts/application (41.3ms)
Compiled promotions.js  (0ms)  (pid 7820)
Compiled application.js  (3ms)  (pid 7820)
Completed 200 OK in 92ms (Views: 87.5ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:28 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:22:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (66.3ms)
  Rendered promotions/edit.html.erb within layouts/application (67.7ms)
Completed 200 OK in 76ms (Views: 71.5ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:44 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (61.6ms)
  Rendered promotions/edit.html.erb within layouts/application (62.7ms)
Completed 200 OK in 70ms (Views: 66.5ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:22:57 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (65.8ms)
  Rendered promotions/edit.html.erb within layouts/application (67.1ms)
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (35.1ms)
  Rendered promotions/edit.html.erb within layouts/application (36.1ms)
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:14 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (34.7ms)
  Rendered promotions/edit.html.erb within layouts/application (35.7ms)
Completed 200 OK in 43ms (Views: 39.0ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:16 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (64.0ms)
  Rendered promotions/edit.html.erb within layouts/application (65.3ms)
Compiled style.css  (21ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 107ms (Views: 102.7ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /application.css - 304 Not Modified (9ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /style.css - 200 OK (5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:34 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (64.8ms)
  Rendered promotions/edit.html.erb within layouts/application (66.0ms)
Completed 200 OK in 74ms (Views: 69.9ms | ActiveRecord: 2.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:36 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (60.6ms)
  Rendered promotions/edit.html.erb within layouts/application (61.6ms)
Compiled style.css  (22ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 103ms (Views: 99.5ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:23:44 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (63.8ms)
  Rendered promotions/edit.html.erb within layouts/application (65.0ms)
Compiled style.css  (22ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 108ms (Views: 104.0ms | ActiveRecord: 2.9ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:24:47 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:25:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (64.3ms)
  Rendered promotions/edit.html.erb within layouts/application (65.5ms)
Compiled style.css  (23ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 109ms (Views: 105.2ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /style.css - 200 OK (6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:25 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (64.2ms)
  Rendered promotions/edit.html.erb within layouts/application (65.5ms)
Completed 200 OK in 73ms (Views: 69.4ms | ActiveRecord: 2.9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:26 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (61.3ms)
  Rendered promotions/edit.html.erb within layouts/application (62.3ms)
Compiled style.css  (23ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 106ms (Views: 102.0ms | ActiveRecord: 3.1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:25:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (64.3ms)
  Rendered promotions/edit.html.erb within layouts/application (65.5ms)
Compiled style.css  (24ms)  (pid 7820)
Compiled application.css  (1ms)  (pid 7820)
Completed 200 OK in 110ms (Views: 106.0ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /application.css - 304 Not Modified (9ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:48 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (70.8ms)
  Rendered promotions/edit.html.erb within layouts/application (72.2ms)
Completed 200 OK in 81ms (Views: 76.4ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:26:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (52.0ms)
  Rendered promotions/edit.html.erb within layouts/application (52.6ms)
Completed 500 Internal Server Error in 55ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Businesses):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=select_tag "business", options_for_select(Businesses.collect{|b| [b.name,b.id]}, {})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___337106609_83282460'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (43.2ms)
  Rendered promotions/edit.html.erb within layouts/application (43.9ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Businesses):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=select_tag "business", options_for_select(Businesses.collect{|b| [b.name,b.id]}, {})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___467687181__634234508'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___337106609_83282460'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (20.6ms)
  Rendered promotions/edit.html.erb within layouts/application (21.1ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Businesses):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=select_tag "business", options_for_select(Businesses.all.collect{|b| [b.name,b.id]}, {})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___337106609_83282460'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (38.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:21 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (21.2ms)
  Rendered promotions/edit.html.erb within layouts/application (22.0ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Businesses):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=select_tag "business", options_for_select(Businesses.all.collect{|b| [b.name,b.id]}, {})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___337106609_83282460'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/_form.html.erb (45.8ms)
  Rendered promotions/edit.html.erb within layouts/application (46.5ms)
Completed 500 Internal Server Error in 50ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Businesses):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=select_tag "business", options_for_select(Businesses.all.collect{|b| [b.name,b.id]}, {})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb___467687181__622111728'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb___337106609_83282460'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (37.2ms)
  Rendered promotions/edit.html.erb within layouts/application (38.4ms)
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:29:32 +0700
Served asset /application.js - 304 Not Modified (1ms)
Connecting to database specified by database.yml
  [1m[36m (218.6ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (222.3ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (597.1ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (606.6ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (112.9ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.1ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (54.3ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (54.2ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (98.8ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (2.9ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (63.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (223.6ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (222.5ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (663.1ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (617.4ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (116.5ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (54.0ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (54.3ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.2ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (76.5ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (4.0ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (40.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (8.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (8.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (20.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["discounted_price", 200], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", 100], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 05:30:18.493383' WHERE "product_bundles"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 05:30:18.495693' WHERE "product_bundles"."id" = 2
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 05:30:18.496927' WHERE "product_bundles"."id" = 3[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 05:30:18.498028' WHERE "product_bundles"."id" = 4
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 05:30:18.499133' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (4.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["discounted_price", 400], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", 300], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 05:30:18.508637' WHERE "product_bundles"."id" = 6[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 05:30:18.510005' WHERE "product_bundles"."id" = 7
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 05:30:18.511116' WHERE "product_bundles"."id" = 8[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 05:30:18.512231' WHERE "product_bundles"."id" = 9
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 05:30:18.513305' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["discounted_price", 200], ["name", "Business 3"], ["promotion_id", nil], ["retail_price", 100], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 05:30:18.530287' WHERE "product_bundles"."id" = 11[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 05:30:18.531577' WHERE "product_bundles"."id" = 12
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 05:30:18.532687' WHERE "product_bundles"."id" = 13[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 05:30:18.533768' WHERE "product_bundles"."id" = 14
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 05:30:18.534875' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["discounted_price", 400], ["name", "Business 4"], ["promotion_id", nil], ["retail_price", 300], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 05:30:18.540963' WHERE "product_bundles"."id" = 16[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 05:30:18.542170' WHERE "product_bundles"."id" = 17
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 05:30:18.543267' WHERE "product_bundles"."id" = 18[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 05:30:18.544371' WHERE "product_bundles"."id" = 19
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 05:30:18.545465' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (3.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["discounted_price", 200], ["name", "Business 5"], ["promotion_id", nil], ["retail_price", 100], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 05:30:18.552355' WHERE "product_bundles"."id" = 21[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 05:30:18.553509' WHERE "product_bundles"."id" = 22
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 05:30:18.554671' WHERE "product_bundles"."id" = 23[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 05:30:18.555779' WHERE "product_bundles"."id" = 24
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 05:30:18.556863' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["product_bundle_id", 1], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (9.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["product_bundle_id", 6], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[35m (8.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["description", "Description 1"], ["end_date", Tue, 03 Jul 2012 05:30:18 UTC +00:00], ["name", "Promotion 1"], ["start_date", Sat, 23 Jun 2012 05:30:18 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Sat, 23 Jun 2012 05:30:18 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 05:30:18.656641' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 05:30:18.658476' WHERE "businesses_promotions"."id" = 2
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:30:39 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.2ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (1.1ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (181.2ms)
  Rendered promotions/edit.html.erb within layouts/application (209.0ms)
Completed 200 OK in 273ms (Views: 226.4ms | ActiveRecord: 12.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:30:40 +0700
Served asset /application.js - 304 Not Modified (6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (65.4ms)
  Rendered promotions/edit.html.erb within layouts/application (66.9ms)
Completed 200 OK in 76ms (Views: 71.6ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:31:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (64.1ms)
  Rendered promotions/edit.html.erb within layouts/application (65.4ms)
Completed 200 OK in 74ms (Views: 69.8ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (65.5ms)
  Rendered promotions/edit.html.erb within layouts/application (66.8ms)
Completed 200 OK in 76ms (Views: 71.6ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:35:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:36:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (35.0ms)
  Rendered promotions/edit.html.erb within layouts/application (36.1ms)
Completed 200 OK in 69ms (Views: 65.2ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:36:09 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:36:09 +0700
Served asset /promotions.css - 200 OK (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:36:09 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:36:10 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:36:10 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:36:10 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:36:10 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:36:10 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:37:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (50.8ms)
  Rendered promotions/edit.html.erb within layouts/application (51.5ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (can't convert Symbol into Integer):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=f.input :business_id, options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__623077228'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__623077228'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__623077228'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:37:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (23.2ms)
  Rendered promotions/edit.html.erb within layouts/application (23.8ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (wrong number of arguments (3 for 2)):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=f.input :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__623581618'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__623581618'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__623581618'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:38:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (45.5ms)
  Rendered promotions/edit.html.erb within layouts/application (46.1ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (undefined method `merge' for #<ActiveSupport::SafeBuffer:0xb624f138>):
    24:     <%= f.simple_fields_for :businesses_promotions, :input_html => {:class => "trucntt"} do |businesses_promotion| %>
    25:       
    26:       <div class='businesses-select'>
    27:         <%=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:       </div>
    29:       <div class="field">
    30:         <%= businesses_promotion.input :product_bundle_id %>
  app/views/promotions/_form.html.erb:27:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__626222298'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__626222298'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__626222298'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:41:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (75.6ms)
  Rendered promotions/edit.html.erb within layouts/application (76.2ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (undefined method `company' for #<Business:0xa909ad4>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= f.input :business_id do %>
    29:           <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => r.company.id }] }, :include_blank => true %>
    30:         <% end %>
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (4 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:29:in `map'
  app/views/promotions/_form.html.erb:29:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:41:57 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (19.4ms)
  Rendered promotions/edit.html.erb within layouts/application (20.0ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `company' for #<Business:0xb51db43c>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= f.input :business_id do %>
    29:           <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => r.company.id }] }, :include_blank => true %>
    30:         <% end %>
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (4 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:29:in `map'
  app/views/promotions/_form.html.erb:29:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__621677178'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:42:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (47.2ms)
  Rendered promotions/edit.html.erb within layouts/application (47.9ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (undefined method `business_id' for #<Promotion:0xb5d5f380>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= f.input :business_id do %>
    29:           <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => "r.company.id" }] }, :include_blank => true %>
    30:         <% end %>
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:42:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (45.7ms)
  Rendered promotions/edit.html.erb within layouts/application (46.3ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (undefined method `business_id' for #<Promotion:0xb5814c68>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= f.input :business_id do %>
    29:           <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => "r.company.id" }] }, :include_blank => true %>
    30:         <% end %>
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (6.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:42:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (24.3ms)
  Rendered promotions/edit.html.erb within layouts/application (25.0ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (undefined method `business_id' for #<Promotion:0xb5b23788>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= f.input :business_id do %>
    29:           <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => "r.company.id" }] }, :include_blank => true %>
    30:         <% end %>
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__626135278'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:42:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (48.2ms)
  Rendered promotions/edit.html.erb within layouts/application (49.0ms)
Completed 500 Internal Server Error in 53ms

ActionView::Template::Error (undefined method `business_id' for #<Promotion:0xb588920c>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         
    29:         <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => "r.company.id" }] }, :include_blank => true %>
    30:         
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:42:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (19.1ms)
  Rendered promotions/edit.html.erb within layouts/application (19.7ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `business_id' for #<Promotion:0xb5696b70>):
    26:       <div class='businesses-select'>
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         
    29:         <%= f.select :business_id, Business.all.map { |r| [r.name, r.id, { :class => "r.company.id" }] }, :include_blank => true %>
    30:         
    31:       </div>
    32:       <div class="field">
  app/views/promotions/_form.html.erb:29:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__623758428'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (44.9ms)
  Rendered promotions/edit.html.erb within layouts/application (46.2ms)
Completed 200 OK in 54ms (Views: 50.4ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:10 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (68.5ms)
  Rendered promotions/edit.html.erb within layouts/application (69.9ms)
Completed 200 OK in 78ms (Views: 74.5ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (62.7ms)
  Rendered promotions/edit.html.erb within layouts/application (63.8ms)
Completed 200 OK in 72ms (Views: 67.8ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /promotions.css - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:31 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (63.1ms)
  Rendered promotions/edit.html.erb within layouts/application (64.2ms)
Completed 200 OK in 72ms (Views: 68.0ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /jquery.js - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:43:36 +0700
Served asset /application.js - 200 OK (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:43:52 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"3", "product_bundle_id"=>"1", "business_attributes"=>{"retail_price"=>"100", "discounted_price"=>"200", "id"=>"1"}, "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"6", "business_attributes"=>{"retail_price"=>"300", "discounted_price"=>"400", "id"=>"2"}, "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2)
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 18ms

ActiveRecord::RecordNotFound (Couldn't find Business with ID=1 for BusinessesPromotion with ID=1):
  app/controllers/promotions_controller.rb:63:in `block in update'
  app/controllers/promotions_controller.rb:62:in `update'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.7ms)


Started GET "/images/favicon.ico" for 127.0.0.1 at 2012-06-23 12:44:11 +0700

ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (62.6ms)
  Rendered promotions/edit.html.erb within layouts/application (64.0ms)
Completed 200 OK in 72ms (Views: 68.7ms | ActiveRecord: 2.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:44:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (31.9ms)
  Rendered promotions/edit.html.erb within layouts/application (33.1ms)
Completed 200 OK in 41ms (Views: 37.4ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:11 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (33.1ms)
  Rendered promotions/edit.html.erb within layouts/application (34.2ms)
Completed 200 OK in 42ms (Views: 38.5ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:46:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (59.9ms)
  Rendered promotions/edit.html.erb within layouts/application (61.1ms)
Completed 200 OK in 69ms (Views: 65.1ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (56.4ms)
  Rendered promotions/edit.html.erb within layouts/application (57.5ms)
Completed 200 OK in 65ms (Views: 61.1ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:11 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (57.7ms)
  Rendered promotions/edit.html.erb within layouts/application (58.9ms)
Completed 200 OK in 66ms (Views: 62.6ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (55.6ms)
  Rendered promotions/edit.html.erb within layouts/application (56.7ms)
Completed 200 OK in 65ms (Views: 61.5ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:47:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (34.4ms)
  Rendered promotions/edit.html.erb within layouts/application (35.5ms)
Completed 200 OK in 43ms (Views: 39.9ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /promotions.css - 304 Not Modified (28ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:48:45 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (32.4ms)
  Rendered promotions/edit.html.erb within layouts/application (33.6ms)
Completed 200 OK in 42ms (Views: 37.9ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:06 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:49:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (56.1ms)
  Rendered promotions/edit.html.erb within layouts/application (57.3ms)
Completed 200 OK in 65ms (Views: 61.4ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:08 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:49:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (56.6ms)
  Rendered promotions/edit.html.erb within layouts/application (57.8ms)
Completed 200 OK in 66ms (Views: 62.3ms | ActiveRecord: 2.6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:46 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (63.0ms)
  Rendered promotions/edit.html.erb within layouts/application (64.3ms)
Completed 200 OK in 75ms (Views: 70.7ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:49:56 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:50:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (58.8ms)
  Rendered promotions/edit.html.erb within layouts/application (59.9ms)
Completed 200 OK in 67ms (Views: 63.8ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:50:06 +0700
Served asset /application.js - 200 OK (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:50:11 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"3", "product_bundle_id"=>"1", "business_attributes"=>{"id"=>"1"}, "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"6", "business_attributes"=>{"id"=>"2"}, "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2)[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 6ms

ActiveRecord::RecordNotFound (Couldn't find Business with ID=1 for BusinessesPromotion with ID=1):
  app/controllers/promotions_controller.rb:63:in `block in update'
  app/controllers/promotions_controller.rb:62:in `update'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  Rendered promotions/_form.html.erb (57.9ms)
  Rendered promotions/edit.html.erb within layouts/application (59.1ms)
Completed 200 OK in 67ms (Views: 62.7ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /application.css - 200 OK (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:21 +0700
Served asset /application.js - 200 OK (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"3", "product_bundle_id"=>"1", "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2)
  [1m[36m (0.7ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 05:52:34.276607' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 3, "updated_at" = '2012-06-23 05:52:34.283485' WHERE "businesses_promotions"."id" = 1
  [1m[36m (20.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 38ms (ActiveRecord: 23.2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:34 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  Rendered promotions/_form.html.erb (60.8ms)
  Rendered promotions/edit.html.erb within layouts/application (62.1ms)
Completed 200 OK in 71ms (Views: 66.7ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:41 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"4", "product_bundle_id"=>"6", "id"=>"2"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"1", "id"=>"1"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (2, 1)[0m
  [1m[35m (0.7ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 05:52:47.485724' WHERE "promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 4, "updated_at" = '2012-06-23 05:52:47.487548' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (28.5ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 38ms (ActiveRecord: 30.9ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /jquery.js - 304 Not Modified (28ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:47 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  Rendered promotions/_form.html.erb (31.0ms)
  Rendered promotions/edit.html.erb within layouts/application (32.1ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:52:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.3ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  Rendered promotions/_form.html.erb (62.3ms)
  Rendered promotions/edit.html.erb within layouts/application (63.4ms)
Completed 200 OK in 71ms (Views: 67.5ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /application.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:05 +0700
Served asset /application.js - 200 OK (1ms)
Connecting to database specified by database.yml


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"5", "product_bundle_id"=>"1", "id"=>"1"}, "1"=>{"business_id"=>"4", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2)
  [1m[36m (0.4ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 05:53:45.371090' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 5, "updated_at" = '2012-06-23 05:53:45.372536' WHERE "businesses_promotions"."id" = 1
  [1m[36m (22.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 32ms (ActiveRecord: 24.5ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /promotions.js - 304 Not Modified (25ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:45 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  Rendered promotions/_form.html.erb (29.8ms)
  Rendered promotions/edit.html.erb within layouts/application (30.9ms)
Completed 200 OK in 39ms (Views: 35.4ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:53:53 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  Rendered promotions/_form.html.erb (56.4ms)
  Rendered promotions/edit.html.erb within layouts/application (57.6ms)
Completed 200 OK in 66ms (Views: 61.8ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:11 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  Rendered promotions/_form.html.erb (55.7ms)
  Rendered promotions/edit.html.erb within layouts/application (56.9ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 3.1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  Rendered promotions/_form.html.erb (54.4ms)
  Rendered promotions/edit.html.erb within layouts/application (55.4ms)
Completed 200 OK in 63ms (Views: 59.3ms | ActiveRecord: 2.9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:15 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"6", "id"=>"2"}, "1"=>{"business_id"=>"5", "product_bundle_id"=>"1", "id"=>"1"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 05:55:18.330363' WHERE "promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 1, "updated_at" = '2012-06-23 05:55:18.331897' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (21.1ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 30ms (ActiveRecord: 23.2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:18 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 12:55:20 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:21 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (57.3ms)
  Rendered promotions/edit.html.erb within layouts/application (58.5ms)
Completed 200 OK in 67ms (Views: 62.3ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (58.6ms)
  Rendered promotions/edit.html.erb within layouts/application (59.8ms)
Completed 200 OK in 68ms (Views: 64.5ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /jquery_nested_form.js - 200 OK (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /application.js - 200 OK (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:29 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (55.7ms)
  Rendered promotions/edit.html.erb within layouts/application (56.8ms)
Completed 200 OK in 65ms (Views: 60.6ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:38 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (54.5ms)
  Rendered promotions/edit.html.erb within layouts/application (55.6ms)
Completed 200 OK in 63ms (Views: 59.5ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /promotions.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:40 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (30.0ms)
  Rendered promotions/edit.html.erb within layouts/application (31.0ms)
Completed 200 OK in 39ms (Views: 34.8ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:55:41 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (28.9ms)
  Rendered promotions/edit.html.erb within layouts/application (29.9ms)
Completed 200 OK in 37ms (Views: 33.8ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /promotions.css - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /jquery_ujs.js - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:13 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (55.2ms)
  Rendered promotions/edit.html.erb within layouts/application (56.3ms)
Completed 200 OK in 64ms (Views: 60.7ms | ActiveRecord: 2.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:15 +0700
Served asset /application.js - 200 OK (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (60.0ms)
  Rendered promotions/edit.html.erb within layouts/application (61.1ms)
Completed 200 OK in 68ms (Views: 65.1ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:16 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (55.6ms)
  Rendered promotions/edit.html.erb within layouts/application (56.6ms)
Completed 200 OK in 64ms (Views: 60.7ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /application.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:18 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (57.1ms)
  Rendered promotions/edit.html.erb within layouts/application (58.3ms)
Completed 200 OK in 66ms (Views: 62.1ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /jquery.js - 200 OK (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /jquery_ujs.js - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:50 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:51 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (57.0ms)
  Rendered promotions/edit.html.erb within layouts/application (58.1ms)
Completed 200 OK in 66ms (Views: 62.2ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:52 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (55.3ms)
  Rendered promotions/edit.html.erb within layouts/application (56.4ms)
Completed 200 OK in 64ms (Views: 60.6ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /jquery_nested_form.js - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:54 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (29.9ms)
  Rendered promotions/edit.html.erb within layouts/application (30.9ms)
Completed 200 OK in 65ms (Views: 60.8ms | ActiveRecord: 3.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:56:55 +0700
Served asset /application.js - 200 OK (2ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:07 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:57:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (56.5ms)
  Rendered promotions/edit.html.erb within layouts/application (57.5ms)
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 2.8ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (28.6ms)
  Rendered promotions/edit.html.erb within layouts/application (29.7ms)
Completed 200 OK in 37ms (Views: 34.1ms | ActiveRecord: 2.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:26 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (35.0ms)
  Rendered promotions/edit.html.erb within layouts/application (36.1ms)
Completed 200 OK in 44ms (Views: 39.9ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:29 +0700
Served asset /application.js - 304 Not Modified (29ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (31.5ms)
  Rendered promotions/edit.html.erb within layouts/application (32.5ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 2.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /application.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 12:57:33 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:00:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  Rendered promotions/_form.html.erb (47.9ms)
  Rendered promotions/edit.html.erb within layouts/application (48.4ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (undefined method `merge' for #<ActiveSupport::SafeBuffer:0xb59ea54c>):
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= businesses_promotion.input :business_id do %>
    29:           <%#= businesses_promotion.select :business_id, Business.all.map { |r| [r.name, r.id, { :selected => businesses_promotion.object.business_id, :class => "" }] }%>
    30:           <%=businesses_promotion.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    31:         <% end %>
    32:       </div>
    33:       <div class="field">
  app/views/promotions/_form.html.erb:30:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:00:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  Rendered promotions/_form.html.erb (51.2ms)
  Rendered promotions/edit.html.erb within layouts/application (51.9ms)
Completed 500 Internal Server Error in 56ms

ActionView::Template::Error (undefined method `merge' for #<ActiveSupport::SafeBuffer:0x9dd7698>):
    27:         <%#=f.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    28:         <%= businesses_promotion.input :business_id do %>
    29:           <%#= businesses_promotion.select :business_id, Business.all.map { |r| [r.name, r.id, { :selected => businesses_promotion.object.business_id, :class => "" }] }%>
    30:           <%=businesses_promotion.select :business_id, {},options_for_select(Business.all.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.business_id})%>
    31:         <% end %>
    32:       </div>
    33:       <div class="field">
  app/views/promotions/_form.html.erb:30:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:28:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__625473168'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (31.0ms)
  Rendered promotions/edit.html.erb within layouts/application (32.1ms)
Completed 200 OK in 41ms (Views: 36.6ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:00:43 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 13:01:02 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"2", "product_bundle_id"=>"1", "id"=>"1"}, "1"=>{"business_id"=>"1", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2)
  [1m[36m (0.7ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 06:01:02.904318' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.6ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 2, "updated_at" = '2012-06-23 06:01:02.906197' WHERE "businesses_promotions"."id" = 1
  [1m[36m (22.3ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 33ms (ActiveRecord: 24.8ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 13:01:02 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:03 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.9ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  Rendered promotions/_form.html.erb (30.3ms)
  Rendered promotions/edit.html.erb within layouts/application (31.4ms)
Completed 200 OK in 39ms (Views: 35.2ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /style.css - 304 Not Modified (29ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:06 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"3", "product_bundle_id"=>"6", "id"=>"2"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"1", "id"=>"1"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (2, 1)[0m
  [1m[35m (0.6ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 06:01:17.602880' WHERE "promotions"."id" = 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 3, "updated_at" = '2012-06-23 06:01:17.604507' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (24.6ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 35ms (ActiveRecord: 26.9ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  Rendered promotions/_form.html.erb (32.8ms)
  Rendered promotions/edit.html.erb within layouts/application (34.0ms)
Completed 200 OK in 68ms (Views: 63.8ms | ActiveRecord: 2.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:01:22 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.9ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  Rendered promotions/_form.html.erb (98.0ms)
  Rendered promotions/edit.html.erb within layouts/application (99.5ms)
Completed 200 OK in 121ms (Views: 97.5ms | ActiveRecord: 11.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  Rendered promotions/_form.html.erb (56.4ms)
  Rendered promotions/edit.html.erb within layouts/application (58.1ms)
Completed 200 OK in 69ms (Views: 64.1ms | ActiveRecord: 3.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:02:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"4", "product_bundle_id"=>"1", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at
  [1m[36m (0.6ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 06:03:01.025410' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 4, "updated_at" = '2012-06-23 06:03:01.027931' WHERE "businesses_promotions"."id" = 1
  [1m[36m (25.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 39ms (ActiveRecord: 28.1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:01 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  Rendered promotions/_form.html.erb (63.3ms)
  Rendered promotions/edit.html.erb within layouts/application (64.7ms)
Completed 200 OK in 73ms (Views: 69.2ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:03 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 13:03:08 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"1", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.6ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 06:03:08.726867' WHERE "promotions"."id" = 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 1, "updated_at" = '2012-06-23 06:03:08.728620' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (59.0ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 69ms (ActiveRecord: 61.3ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 13:03:08 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /promotions.css - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  Rendered promotions/_form.html.erb (57.7ms)
  Rendered promotions/edit.html.erb within layouts/application (58.9ms)
Completed 200 OK in 66ms (Views: 62.9ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:03:10 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:04:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  Rendered promotions/_form.html.erb (56.7ms)
  Rendered promotions/edit.html.erb within layouts/application (57.3ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined method `product_bunles' for #<Business:0xaf24ea0>):
    29:       </div>
    30:       <div class="field">
    31:         <%= businesses_promotion.input :product_bundle_id do %>
    32:           <%=businesses_promotion.select :product_bundle_id, options_for_select(businesses_promotion.object.business.product_bunles.collect{|b| [b.name,b.id]}, {:selected => businesses_promotion.object.product_bundle_id})%>
    33:         <% end %>
    34:       </div>
    35:       <div class="field">
  app/views/promotions/_form.html.erb:32:in `block (3 levels) in _app_views_promotions__form_html_erb__66259087__628235858'
  app/views/promotions/_form.html.erb:31:in `block (2 levels) in _app_views_promotions__form_html_erb__66259087__628235858'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__66259087__628235858'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__66259087__628235858'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__952289427_91828370'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (49.4ms)
  Rendered promotions/edit.html.erb within layouts/application (50.8ms)
Completed 200 OK in 85ms (Views: 76.3ms | ActiveRecord: 7.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /jquery.js - 304 Not Modified (10ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:05:05 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (33.7ms)
  Rendered promotions/edit.html.erb within layouts/application (34.8ms)
Completed 200 OK in 43ms (Views: 38.1ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:36 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:07:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.3ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (57.8ms)
  Rendered promotions/edit.html.erb within layouts/application (58.9ms)
Completed 200 OK in 67ms (Views: 62.8ms | ActiveRecord: 3.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:07:38 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (58.0ms)
  Rendered promotions/edit.html.erb within layouts/application (59.3ms)
Compiled style.css  (32ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 113ms (Views: 108.7ms | ActiveRecord: 3.3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:33 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (32.1ms)
  Rendered promotions/edit.html.erb within layouts/application (33.2ms)
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 3.6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:35 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (58.3ms)
  Rendered promotions/edit.html.erb within layouts/application (59.3ms)
Completed 200 OK in 67ms (Views: 62.0ms | ActiveRecord: 3.9ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"2", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"12", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at
  [1m[36m (0.6ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 06:08:47.670728' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "product_bundle_id" = 2, "updated_at" = '2012-06-23 06:08:47.672422' WHERE "businesses_promotions"."id" = 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "businesses_promotions" SET "product_bundle_id" = 12, "updated_at" = '2012-06-23 06:08:47.673843' WHERE "businesses_promotions"."id" = 2[0m
  [1m[35m (22.3ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 34ms (ActiveRecord: 25.5ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:47 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 13:08:49 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:50 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (30.4ms)
  Rendered promotions/edit.html.erb within layouts/application (31.5ms)
Completed 200 OK in 40ms (Views: 34.8ms | ActiveRecord: 4.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:08:52 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (60.9ms)
  Rendered promotions/edit.html.erb within layouts/application (62.1ms)
Compiled style.css  (14ms)  (pid 8634)
Compiled scafford.css  (10ms)  (pid 8634)
Compiled application.css  (17ms)  (pid 8634)
Completed 200 OK in 117ms (Views: 112.6ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /application.css - 304 Not Modified (41ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /scafford.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:10:34 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:11:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.8ms)
  Rendered promotions/edit.html.erb within layouts/application (32.9ms)
Compiled style.css  (14ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 70ms (Views: 64.5ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:16 +0700
Served asset /application.css - 304 Not Modified (11ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:17 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:11:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.3ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (30.7ms)
  Rendered promotions/edit.html.erb within layouts/application (31.7ms)
Completed 200 OK in 40ms (Views: 35.9ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:18 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:18 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:18 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:19 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.3ms)
  Rendered promotions/edit.html.erb within layouts/application (32.5ms)
Compiled style.css  (14ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 68ms (Views: 63.0ms | ActiveRecord: 3.9ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /jquery.js - 304 Not Modified (29ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:44 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (33.2ms)
  Rendered promotions/edit.html.erb within layouts/application (34.2ms)
Compiled style.css  (14ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 71ms (Views: 65.9ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /application.css - 304 Not Modified (9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /style.css - 200 OK (31ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:11:53 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.8ms)
  Rendered promotions/edit.html.erb within layouts/application (33.2ms)
Compiled style.css  (15ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 71ms (Views: 66.4ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /application.css - 304 Not Modified (11ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:01 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:12:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (32.9ms)
  Rendered promotions/edit.html.erb within layouts/application (33.9ms)
Compiled style.css  (14ms)  (pid 8634)
Compiled application.css  (1ms)  (pid 8634)
Completed 200 OK in 71ms (Views: 66.2ms | ActiveRecord: 3.7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /application.css - 304 Not Modified (38ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:12:46 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:28:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (112.2ms)
  Rendered promotions/edit.html.erb within layouts/application (113.4ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 181ms (Views: 154.4ms | ActiveRecord: 14.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /jquery.js - 304 Not Modified (7ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:23 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (60.2ms)
  Rendered promotions/edit.html.erb within layouts/application (61.6ms)
Completed 200 OK in 70ms (Views: 65.4ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:28:24 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (34.0ms)
  Rendered promotions/edit.html.erb within layouts/application (35.0ms)
Completed 200 OK in 43ms (Views: 38.3ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:29:06 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:33:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (111.0ms)
  Rendered promotions/edit.html.erb within layouts/application (112.1ms)
Completed 200 OK in 133ms (Views: 106.4ms | ActiveRecord: 14.6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:33:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (60.0ms)
  Rendered promotions/edit.html.erb within layouts/application (61.2ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (4ms)  (pid 8634)
Completed 200 OK in 88ms (Views: 83.6ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:42:31 +0700
Served asset /application.js - 304 Not Modified (35ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:43:08 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (34.4ms)
  Rendered promotions/edit.html.erb within layouts/application (35.5ms)
Completed 200 OK in 44ms (Views: 38.8ms | ActiveRecord: 4.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:43:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (61.4ms)
  Rendered promotions/edit.html.erb within layouts/application (62.5ms)
Completed 200 OK in 71ms (Views: 66.3ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (57.7ms)
  Rendered promotions/edit.html.erb within layouts/application (58.8ms)
Completed 200 OK in 67ms (Views: 61.9ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:43:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (59.6ms)
  Rendered promotions/edit.html.erb within layouts/application (61.0ms)
Completed 200 OK in 70ms (Views: 64.8ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:13 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.7ms)
  Rendered promotions/edit.html.erb within layouts/application (32.7ms)
Completed 200 OK in 41ms (Views: 36.0ms | ActiveRecord: 3.7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /scafford.css - 304 Not Modified (31ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:44:32 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:46:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (30.8ms)
  Rendered promotions/edit.html.erb within layouts/application (31.8ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 83ms (Views: 78.9ms | ActiveRecord: 3.6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:12 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (58.5ms)
  Rendered promotions/edit.html.erb within layouts/application (59.6ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 85ms (Views: 80.6ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:45 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:46:46 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (58.4ms)
  Rendered promotions/edit.html.erb within layouts/application (59.4ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 110ms (Views: 106.3ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:51:54 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.5ms)
  Rendered promotions/edit.html.erb within layouts/application (32.6ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 86ms (Views: 81.1ms | ActiveRecord: 3.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /application.js - 304 Not Modified (12ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (57.4ms)
  Rendered promotions/edit.html.erb within layouts/application (58.5ms)
Completed 200 OK in 66ms (Views: 61.8ms | ActiveRecord: 3.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:52:24 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 13:52:27 +0700

AbstractController::ActionNotFound (The action 'popolute_product_bundles' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (110.6ms)
  Rendered promotions/edit.html.erb within layouts/application (111.7ms)
Completed 200 OK in 133ms (Views: 107.5ms | ActiveRecord: 13.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /application.css - 304 Not Modified (34ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:57:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (31.8ms)
  Rendered promotions/edit.html.erb within layouts/application (32.9ms)
Completed 200 OK in 42ms (Views: 36.2ms | ActiveRecord: 4.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:11 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (64.5ms)
  Rendered promotions/edit.html.erb within layouts/application (65.8ms)
Completed 200 OK in 75ms (Views: 70.1ms | ActiveRecord: 3.7ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:13 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 13:57:15 +0700

SyntaxError (/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:7: syntax error, unexpected tSYMBEG, expecting '}'
...                              :business_retail_price => @bus...
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:8: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...  :business_discounted_price => @business.discounted_price} }
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:8: syntax error, unexpected '}', expecting keyword_end):
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.5) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.5) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `constantize'
  activesupport (3.2.5) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:57:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (80.9ms)
  Rendered promotions/edit.html.erb within layouts/application (82.1ms)
Completed 200 OK in 157ms (Views: 103.5ms | ActiveRecord: 13.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:37 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:57:38 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/businesses/popolute_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 13:57:41 +0700

SyntaxError (/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:6: syntax error, unexpected tASSOC, expecting '}'
      format.json { render => json: {:product_bundles => @...
                             ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:7: syntax error, unexpected tSYMBEG, expecting '}'
...                              :business_retail_price => @bus...
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:8: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...  :business_discounted_price => @business.discounted_price} }
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:8: syntax error, unexpected '}', expecting keyword_end):
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.5) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.5) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `constantize'
  activesupport (3.2.5) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (111.2ms)
  Rendered promotions/edit.html.erb within layouts/application (112.3ms)
Completed 200 OK in 133ms (Views: 106.9ms | ActiveRecord: 14.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:58:52 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 13:58:55 +0700

SyntaxError (/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:7: syntax error, unexpected ':', expecting tASSOC
...        :business_retail_price: @business.retail_price,
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:8: syntax error, unexpected ':', expecting tCOLON2 or '[' or '.'
...    :business_discounted_price: @business.discounted_price
...                               ^
/home/trucntt/working/promotion-demo/app/controllers/businesses_controller.rb:10: syntax error, unexpected '}', expecting keyword_end):
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.5) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.5) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `constantize'
  activesupport (3.2.5) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (1.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (107.7ms)
  Rendered promotions/edit.html.erb within layouts/application (108.8ms)
Completed 200 OK in 129ms (Views: 103.1ms | ActiveRecord: 14.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 13:59:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 13:59:28 +0700

AbstractController::ActionNotFound (The action 'popolute_product_bundles' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:00:46 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (109.8ms)
  Rendered promotions/edit.html.erb within layouts/application (110.9ms)
Completed 200 OK in 131ms (Views: 104.8ms | ActiveRecord: 14.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:00:47 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:00:50 +0700

AbstractController::ActionNotFound (The action 'popolute_product_bundles' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (112.0ms)
  Rendered promotions/edit.html.erb within layouts/application (113.2ms)
Completed 200 OK in 134ms (Views: 107.0ms | ActiveRecord: 15.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:01:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:01:19 +0700

AbstractController::ActionNotFound (The action 'popolute_product_bundles' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (110.6ms)
  Rendered promotions/edit.html.erb within layouts/application (111.8ms)
Completed 200 OK in 133ms (Views: 107.4ms | ActiveRecord: 13.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:02:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:02:54 +0700

AbstractController::ActionNotFound (The action 'show' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (33.8ms)
  Rendered promotions/edit.html.erb within layouts/application (34.8ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 89ms (Views: 83.4ms | ActiveRecord: 4.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:05:22 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/businesses/popolute_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:05:26 +0700

AbstractController::ActionNotFound (The action 'show' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.3ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (32.9ms)
  Rendered promotions/edit.html.erb within layouts/application (62.4ms)
Completed 200 OK in 71ms (Views: 66.5ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:18 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (32.3ms)
  Rendered promotions/edit.html.erb within layouts/application (33.3ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 3.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:21 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (28.9ms)
  Rendered promotions/edit.html.erb within layouts/application (29.8ms)
Completed 200 OK in 38ms (Views: 33.2ms | ActiveRecord: 3.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:22 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (60.2ms)
  Rendered promotions/edit.html.erb within layouts/application (61.4ms)
Completed 200 OK in 70ms (Views: 64.6ms | ActiveRecord: 4.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:24 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.3ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (57.5ms)
  Rendered promotions/edit.html.erb within layouts/application (58.5ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 85ms (Views: 80.8ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:06:41 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:06:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (58.7ms)
  Rendered promotions/edit.html.erb within layouts/application (59.8ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 110ms (Views: 105.4ms | ActiveRecord: 4.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:07:00 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/businesses/popolute_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:07:05 +0700

AbstractController::ActionNotFound (The action 'show' could not be found for BusinessesController):
  actionpack (3.2.5) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.5) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.5) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.5) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__265889338__call__427174934__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (111.9ms)
  Rendered promotions/edit.html.erb within layouts/application (113.1ms)
Completed 200 OK in 133ms (Views: 107.3ms | ActiveRecord: 14.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (61.9ms)
  Rendered promotions/edit.html.erb within layouts/application (63.0ms)
Completed 200 OK in 71ms (Views: 65.8ms | ActiveRecord: 4.4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/businesses/popolute_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:10:16 +0700

ActionController::RoutingError (No route matches [GET] "/businesses/popolute_product_bundles"):
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (60.0ms)
  Rendered promotions/edit.html.erb within layouts/application (61.1ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 88ms (Views: 83.0ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:10:41 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:10:44 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (32.8ms)
  Rendered promotions/edit.html.erb within layouts/application (33.8ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 86ms (Views: 81.4ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:11:14 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:11:17 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (110.1ms)
  Rendered promotions/edit.html.erb within layouts/application (111.2ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 178ms (Views: 153.6ms | ActiveRecord: 12.8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /promotions.css - 304 Not Modified (5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:16:54 +0700
Served asset /application.js - 304 Not Modified (11ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:16:58 +0700
Processing by BusinessesController#populate_product_bundles as */*
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
Completed 500 Internal Server Error in 3ms

ActionView::MissingTemplate (Missing template businesses/populate_product_bundles, application/populate_product_bundles with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
  app/controllers/businesses_controller.rb:5:in `populate_product_bundles'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (60.5ms)
  Rendered promotions/edit.html.erb within layouts/application (61.7ms)
Completed 200 OK in 70ms (Views: 65.3ms | ActiveRecord: 3.7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:18:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:18:51 +0700
Processing by BusinessesController#populate_product_bundles as */*
  Parameters: {"business_id"=>"4"}
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1
Completed 500 Internal Server Error in 3ms

ActionView::MissingTemplate (Missing template businesses/populate_product_bundles, application/populate_product_bundles with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :coffee]}. Searched in:
  * "/home/trucntt/working/promotion-demo/app/views"
):
  app/controllers/businesses_controller.rb:5:in `populate_product_bundles'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:19:28 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (33.9ms)
  Rendered promotions/edit.html.erb within layouts/application (35.0ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 89ms (Views: 83.7ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:19:29 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:19:31 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (59.3ms)
  Rendered promotions/edit.html.erb within layouts/application (60.4ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 86ms (Views: 82.2ms | ActiveRecord: 3.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /application.css - 304 Not Modified (38ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:29:52 +0700
Served asset /application.js - 304 Not Modified (10ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:30:00 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (38.2ms)
  Rendered promotions/edit.html.erb within layouts/application (39.5ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 94ms (Views: 88.9ms | ActiveRecord: 4.2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /promotions.js - 200 OK (3ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:30:29 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:30:33 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:32:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (57.2ms)
  Rendered promotions/edit.html.erb within layouts/application (58.2ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 83ms (Views: 79.0ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:11 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:32:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (59.3ms)
  Rendered promotions/edit.html.erb within layouts/application (60.2ms)
Completed 200 OK in 68ms (Views: 63.6ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/populate_product_bundles?business_id=5" for 127.0.0.1 at 2012-06-23 14:32:17 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"5"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (57.4ms)
  Rendered promotions/edit.html.erb within layouts/application (58.4ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 84ms (Views: 79.5ms | ActiveRecord: 3.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:32:50 +0700
Served asset /application.js - 304 Not Modified (36ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:32:56 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:33:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (30.6ms)
  Rendered promotions/edit.html.erb within layouts/application (31.6ms)
Compiled promotions.js  (0ms)  (pid 8634)
Compiled application.js  (3ms)  (pid 8634)
Completed 200 OK in 84ms (Views: 78.9ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:38 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  Rendered promotions/_form.html.erb (33.0ms)
  Rendered promotions/edit.html.erb within layouts/application (34.0ms)
Completed 200 OK in 69ms (Views: 64.1ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /scafford.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:33:41 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:33:45 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:33:47 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:33:48 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started GET "/populate_product_bundles?business_id=5" for 127.0.0.1 at 2012-06-23 14:33:50 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"5"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/populate_product_bundles?business_id=1" for 127.0.0.1 at 2012-06-23 14:33:52 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"1"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:33:53 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.3ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:33:54 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.3ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:33:58 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.4ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:34:03 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/populate_product_bundles?business_id=5" for 127.0.0.1 at 2012-06-23 14:34:06 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"5"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"5", "product_bundle_id"=>"25", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"12", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.9ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.7ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 07:34:09.421483' WHERE "promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 5, "product_bundle_id" = 25, "updated_at" = '2012-06-23 07:34:09.424028' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (21.8ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 37ms (ActiveRecord: 24.7ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:09 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (60.4ms)
  Rendered promotions/edit.html.erb within layouts/application (61.5ms)
Completed 200 OK in 69ms (Views: 64.1ms | ActiveRecord: 4.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:34:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  Rendered promotions/_form.html.erb (35.7ms)
  Rendered promotions/edit.html.erb within layouts/application (36.8ms)
Completed 200 OK in 73ms (Views: 67.9ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:35:46 +0700
Served asset /application.js - 304 Not Modified (1ms)
Connecting to database specified by database.yml
  [1m[36m (222.6ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (212.0ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (606.0ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (639.5ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (103.8ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (76.2ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (65.3ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.2ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (132.2ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.9ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (62.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (11.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 11"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (3.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 12"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 13"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 14"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 15"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 21"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 22"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 23"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 24"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 25"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 31"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.5ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 32"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 33"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 34"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 35"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 41"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 42"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 43"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 44"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 45"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 51"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 52"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 53"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 54"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "name", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["name", "Product Bundle 55"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["discounted_price", 100], ["name", "Business 1"], ["promotion_id", nil], ["retail_price", 100], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:40:47.648489' WHERE "product_bundles"."id" = 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:40:47.650859' WHERE "product_bundles"."id" = 2
  [1m[36m (0.3ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:40:47.651904' WHERE "product_bundles"."id" = 3[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:40:47.652859' WHERE "product_bundles"."id" = 4
  [1m[36m (0.3ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:40:47.653923' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["discounted_price", 200], ["name", "Business 2"], ["promotion_id", nil], ["retail_price", 200], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:40:47.663191' WHERE "product_bundles"."id" = 6[0m
  [1m[35m (0.3ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:40:47.664488' WHERE "product_bundles"."id" = 7
  [1m[36m (0.3ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:40:47.665456' WHERE "product_bundles"."id" = 8[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:40:47.666361' WHERE "product_bundles"."id" = 9
  [1m[36m (0.3ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:40:47.667369' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["discounted_price", 300], ["name", "Business 3"], ["promotion_id", nil], ["retail_price", 300], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:40:47.673812' WHERE "product_bundles"."id" = 11[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:40:47.675039' WHERE "product_bundles"."id" = 12
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:40:47.676171' WHERE "product_bundles"."id" = 13[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:40:47.677277' WHERE "product_bundles"."id" = 14
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:40:47.678350' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["discounted_price", 400], ["name", "Business 4"], ["promotion_id", nil], ["retail_price", 400], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:40:47.684938' WHERE "product_bundles"."id" = 16[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:40:47.686259' WHERE "product_bundles"."id" = 17
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:40:47.687310' WHERE "product_bundles"."id" = 18[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:40:47.688405' WHERE "product_bundles"."id" = 19
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:40:47.689535' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "discounted_price", "name", "promotion_id", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["discounted_price", 500], ["name", "Business 5"], ["promotion_id", nil], ["retail_price", 500], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:40:47.695882' WHERE "product_bundles"."id" = 21[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:40:47.697039' WHERE "product_bundles"."id" = 22
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:40:47.698116' WHERE "product_bundles"."id" = 23[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:40:47.699154' WHERE "product_bundles"."id" = 24
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:40:47.700286' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["product_bundle_id", 1], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["product_bundle_id", 6], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["description", "Description 1"], ["end_date", Tue, 03 Jul 2012 07:40:47 UTC +00:00], ["name", "Promotion 1"], ["start_date", Sat, 23 Jun 2012 07:40:47 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Sat, 23 Jun 2012 07:40:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mUPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 07:40:47.799546' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 07:40:47.801385' WHERE "businesses_promotions"."id" = 2
  [1m[36m (13.0ms)[0m  [1mCOMMIT[0m


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:41:05 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (1.2ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.9ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (163.3ms)
  Rendered promotions/edit.html.erb within layouts/application (190.7ms)
Compiled promotions.js  (0ms)  (pid 10792)
Compiled application.js  (3ms)  (pid 10792)
Completed 200 OK in 300ms (Views: 247.6ms | ActiveRecord: 18.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /application.css - 304 Not Modified (38ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:41:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (34.3ms)
  Rendered promotions/edit.html.erb within layouts/application (35.4ms)
Completed 200 OK in 70ms (Views: 64.3ms | ActiveRecord: 4.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /application.css - 200 OK (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /scafford.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:41:19 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:41:24 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.4ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:41:26 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.3ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:41:27 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (58.4ms)
  Rendered promotions/edit.html.erb within layouts/application (59.6ms)
Compiled promotions.js  (0ms)  (pid 10792)
Compiled application.js  (3ms)  (pid 10792)
Completed 200 OK in 86ms (Views: 81.0ms | ActiveRecord: 3.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:17 +0700
Served asset /application.js - 304 Not Modified (36ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (31.0ms)
  Rendered promotions/edit.html.erb within layouts/application (31.9ms)
Completed 200 OK in 40ms (Views: 35.2ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /application.css - 200 OK (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /scafford.css - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /jquery_ujs.js - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:42:25 +0700
Served asset /application.js - 200 OK (28ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:42:32 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.4ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:43:34 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (1.0ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (30.5ms)
  Rendered promotions/edit.html.erb within layouts/application (31.5ms)
Compiled promotions.js  (0ms)  (pid 10792)
Compiled application.js  (3ms)  (pid 10792)
Completed 200 OK in 83ms (Views: 77.4ms | ActiveRecord: 4.4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:35 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (59.2ms)
  Rendered promotions/edit.html.erb within layouts/application (60.2ms)
Completed 200 OK in 69ms (Views: 64.2ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /jquery.js - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:43:39 +0700
Served asset /application.js - 200 OK (2ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:43:47 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:43:50 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.4ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:43:51 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/populate_product_bundles?business_id=5" for 127.0.0.1 at 2012-06-23 14:43:53 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"5"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:43:56 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.1ms)


Started GET "/populate_product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 14:43:58 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (57.1ms)
  Rendered promotions/edit.html.erb within layouts/application (58.1ms)
Completed 200 OK in 66ms (Views: 61.9ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /application.css - 304 Not Modified (8ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:44:07 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (31.2ms)
  Rendered promotions/edit.html.erb within layouts/application (32.2ms)
Completed 200 OK in 40ms (Views: 35.0ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:07 +0700
Served asset /application.css - 200 OK (7ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:44:08 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  Rendered promotions/_form.html.erb (30.9ms)
  Rendered promotions/edit.html.erb within layouts/application (32.0ms)
Compiled promotions.js  (0ms)  (pid 10792)
Compiled application.js  (3ms)  (pid 10792)
Completed 200 OK in 85ms (Views: 80.2ms | ActiveRecord: 3.6ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:16 +0700
Served asset /application.js - 304 Not Modified (12ms)


Started GET "/populate_product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 14:45:18 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started GET "/populate_product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 14:45:19 +0700
Processing by BusinessesController#populate_product_bundles as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"3", "product_bundle_id"=>"15", "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"6", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.8ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 07:45:23.451678' WHERE "promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 3, "product_bundle_id" = 15, "updated_at" = '2012-06-23 07:45:23.484980' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (24.6ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 70ms (ActiveRecord: 27.5ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /jquery.js - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  Rendered promotions/_form.html.erb (31.6ms)
  Rendered promotions/edit.html.erb within layouts/application (32.6ms)
Completed 200 OK in 67ms (Views: 61.5ms | ActiveRecord: 4.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:45:26 +0700
Served asset /application.js - 304 Not Modified (1ms)
Connecting to database specified by database.yml
  [1m[36m (215.6ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (223.3ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (641.2ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (517.6ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (117.8ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.3ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (65.6ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.5ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (109.7ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (63.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (223.5ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (223.1ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (639.9ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (595.6ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (107.4ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (65.4ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (54.4ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (54.6ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (109.8ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.1ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (63.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (9.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (11.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (10.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (221.4ms)[0m  [1mDROP DATABASE IF EXISTS "promotion_dev_1"[0m
  [1m[35m (222.9ms)[0m  DROP DATABASE IF EXISTS "promotion_test"
  [1m[36m (607.4ms)[0m  [1mCREATE DATABASE "promotion_dev_1" ENCODING = 'utf8'[0m
  [1m[35m (605.4ms)[0m  CREATE DATABASE "promotion_test" ENCODING = 'utf8'
  [1m[36m (136.8ms)[0m  [1mCREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "retail_price" character varying(255), "discounted_price" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (76.2ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (65.6ms)[0m  [1mCREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (55.8ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (98.8ms)[0m  [1mCREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.9ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (3.0ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35m (52.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120623042503')
  [1m[36m (11.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120623041909')[0m
  [1m[35m (10.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622220011')
  [1m[36m (11.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120622205736')[0m
  [1m[35m (10.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20120622215943')
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
  [1m[36m (26.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36m (74.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreatePromotions (20120622205736)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (91.0ms)[0m  CREATE TABLE "promotions" ("id" serial primary key, "name" character varying(255), "start_date" timestamp, "end_date" timestamp, "title" character varying(255), "sub_title" character varying(255), "subject" character varying(255), "description" text, "redemption_detail" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622205736')[0m
  [1m[35m (9.0ms)[0m  COMMIT
Migrating to CreateBusinesses (20120622215943)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (63.9ms)[0m  CREATE TABLE "businesses" ("id" serial primary key, "name" character varying(255), "promotion_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622215943')[0m
  [1m[35m (9.8ms)[0m  COMMIT
Migrating to CreateProductBundles (20120622220011)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (96.9ms)[0m  CREATE TABLE "product_bundles" ("id" serial primary key, "name" character varying(255), "business_id" integer, "retail_price" character varying(255), "discounted_price" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120622220011')[0m
  [1m[35m (9.7ms)[0m  COMMIT
Migrating to CreateBusinessesPromotions (20120623041909)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (44.3ms)[0m  CREATE TABLE "businesses_promotions" ("id" serial primary key, "promotion_id" integer, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120623041909')[0m
  [1m[35m (8.6ms)[0m  COMMIT
Migrating to CreateBusinessesProductBundles (20120623042503)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (53.9ms)[0m  CREATE TABLE "businesses_product_bundles" ("id" serial primary key, "business_id" integer, "product_bundle_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20120623042503')[0m
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35mPK and serial sequence (3.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses"'::regclass

  [1m[36m (2.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_product_bundles"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"businesses_promotions"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'businesses_promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.1ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"product_bundles"'::regclass

  [1m[36m (1.3ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'product_bundles'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mPK and serial sequence (2.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"promotions"'::regclass

  [1m[36m (1.2ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'promotions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
Connecting to database specified by database.yml
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 11], ["name", "Product Bundle 11"], ["retail_price", 11], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (87.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 12], ["name", "Product Bundle 12"], ["retail_price", 12], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (8.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 13], ["name", "Product Bundle 13"], ["retail_price", 13], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 14], ["name", "Product Bundle 14"], ["retail_price", 14], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 15], ["name", "Product Bundle 15"], ["retail_price", 15], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 21], ["name", "Product Bundle 21"], ["retail_price", 21], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 22], ["name", "Product Bundle 22"], ["retail_price", 22], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 23], ["name", "Product Bundle 23"], ["retail_price", 23], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 24], ["name", "Product Bundle 24"], ["retail_price", 24], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 25], ["name", "Product Bundle 25"], ["retail_price", 25], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 31], ["name", "Product Bundle 31"], ["retail_price", 31], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 32], ["name", "Product Bundle 32"], ["retail_price", 32], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 33], ["name", "Product Bundle 33"], ["retail_price", 33], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 34], ["name", "Product Bundle 34"], ["retail_price", 34], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 35], ["name", "Product Bundle 35"], ["retail_price", 35], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 41], ["name", "Product Bundle 41"], ["retail_price", 41], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 42], ["name", "Product Bundle 42"], ["retail_price", 42], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 43], ["name", "Product Bundle 43"], ["retail_price", 43], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 44], ["name", "Product Bundle 44"], ["retail_price", 44], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (8.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 45], ["name", "Product Bundle 45"], ["retail_price", 45], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 51], ["name", "Product Bundle 51"], ["retail_price", 51], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 52], ["name", "Product Bundle 52"], ["retail_price", 52], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 54], ["name", "Product Bundle 53"], ["retail_price", 54], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 54], ["name", "Product Bundle 54"], ["retail_price", 54], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "product_bundles" ("business_id", "created_at", "discounted_price", "name", "retail_price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["business_id", nil], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["discounted_price", 55], ["name", "Product Bundle 55"], ["retail_price", 55], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (9.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["name", "Business 1"], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:56:54.848374' WHERE "product_bundles"."id" = 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:56:54.850713' WHERE "product_bundles"."id" = 2
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:56:54.851786' WHERE "product_bundles"."id" = 3[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:56:54.852787' WHERE "product_bundles"."id" = 4
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 1, "updated_at" = '2012-06-23 07:56:54.853862' WHERE "product_bundles"."id" = 5[0m
  [1m[35m (7.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["name", "Business 2"], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:56:54.865274' WHERE "product_bundles"."id" = 6[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:56:54.866705' WHERE "product_bundles"."id" = 7
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:56:54.867877' WHERE "product_bundles"."id" = 8[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:56:54.869031' WHERE "product_bundles"."id" = 9
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 2, "updated_at" = '2012-06-23 07:56:54.870139' WHERE "product_bundles"."id" = 10[0m
  [1m[35m (12.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["name", "Business 3"], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:56:54.886888' WHERE "product_bundles"."id" = 11[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:56:54.888151' WHERE "product_bundles"."id" = 12
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:56:54.889263' WHERE "product_bundles"."id" = 13[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:56:54.890378' WHERE "product_bundles"."id" = 14
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 3, "updated_at" = '2012-06-23 07:56:54.891500' WHERE "product_bundles"."id" = 15[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["name", "Business 4"], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:56:54.897529' WHERE "product_bundles"."id" = 16[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:56:54.898743' WHERE "product_bundles"."id" = 17
  [1m[36m (0.4ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:56:54.899916' WHERE "product_bundles"."id" = 18[0m
  [1m[35m (0.5ms)[0m  UPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:56:54.900979' WHERE "product_bundles"."id" = 19
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 4, "updated_at" = '2012-06-23 07:56:54.902088' WHERE "product_bundles"."id" = 20[0m
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "businesses" ("created_at", "name", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["name", "Business 5"], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:56:54.908861' WHERE "product_bundles"."id" = 21[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:56:54.910049' WHERE "product_bundles"."id" = 22
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:56:54.911095' WHERE "product_bundles"."id" = 23[0m
  [1m[35m (0.4ms)[0m  UPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:56:54.912203' WHERE "product_bundles"."id" = 24
  [1m[36m (0.5ms)[0m  [1mUPDATE "product_bundles" SET "business_id" = 5, "updated_at" = '2012-06-23 07:56:54.913303' WHERE "product_bundles"."id" = 25[0m
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["business_id", 1], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["product_bundle_id", 1], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "businesses_promotions" ("business_id", "created_at", "product_bundle_id", "promotion_id", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["business_id", 2], ["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["product_bundle_id", 6], ["promotion_id", nil], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[35m (8.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "promotions" ("created_at", "description", "end_date", "name", "redemption_detail", "start_date", "sub_title", "subject", "title", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["created_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["description", "Description 1"], ["end_date", Tue, 03 Jul 2012 07:56:54 UTC +00:00], ["name", "Promotion 1"], ["redemption_detail", nil], ["start_date", Sat, 23 Jun 2012 07:56:54 UTC +00:00], ["sub_title", "Sub Title 1"], ["subject", "Subject 1"], ["title", "Title 1"], ["updated_at", Sat, 23 Jun 2012 07:56:54 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mUPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 07:56:54.991965' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (0.4ms)[0m  UPDATE "businesses_promotions" SET "promotion_id" = 1, "updated_at" = '2012-06-23 07:56:54.993978' WHERE "businesses_promotions"."id" = 2
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:57:50 +0700
Connecting to database specified by database.yml
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (1.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (1.0ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mPromotion Load (0.8ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = 1 LIMIT 1
  Rendered promotions/_form.html.erb (177.2ms)
  Rendered promotions/edit.html.erb within layouts/application (204.2ms)
Completed 500 Internal Server Error in 253ms

ActionView::Template::Error (undefined method `retail_price' for #<Promotion:0xb5bd2990>):
    34:       </div>
    35:       <div class="field">
    36:         <label>Retail Price</label>
    37:         <div class='retail_price'><%= businesses_promotion.object.promotion.retail_price %></div>
    38:       </div>
    39:       <div class="field">
    40:         <label>Discounted Price</label>
  app/views/promotions/_form.html.erb:37:in `block (2 levels) in _app_views_promotions__form_html_erb__954168905_83501850'
  app/views/promotions/_form.html.erb:24:in `block in _app_views_promotions__form_html_erb__954168905_83501850'
  app/views/promotions/_form.html.erb:1:in `_app_views_promotions__form_html_erb__954168905_83501850'
  app/views/promotions/edit.html.erb:3:in `_app_views_promotions_edit_html_erb__222872071_81330810'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (5.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (62.7ms)
  Rendered promotions/edit.html.erb within layouts/application (64.1ms)
Completed 200 OK in 89ms (Views: 83.0ms | ActiveRecord: 4.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /promotions.css - 304 Not Modified (6ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /promotions.js - 304 Not Modified (30ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 14:58:16 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:01:11 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (39.5ms)
  Rendered promotions/edit.html.erb within layouts/application (40.6ms)
Completed 200 OK in 49ms (Views: 43.4ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:01:13 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (35.5ms)
  Rendered promotions/edit.html.erb within layouts/application (36.8ms)
Completed 200 OK in 73ms (Views: 67.1ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /scafford.css - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /promotions.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:01:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.8ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (114.0ms)
  Rendered promotions/edit.html.erb within layouts/application (115.1ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 155ms (Views: 126.7ms | ActiveRecord: 15.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:12:43 +0700
Served asset /application.js - 304 Not Modified (9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:13:18 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (36.0ms)
  Rendered promotions/edit.html.erb within layouts/application (37.0ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 91ms (Views: 84.6ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:19 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:13:28 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (60.6ms)
  Rendered promotions/edit.html.erb within layouts/application (61.7ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 88ms (Views: 82.4ms | ActiveRecord: 4.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:13:29 +0700
Served asset /application.js - 304 Not Modified (7ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:13:33 +0700

SyntaxError (/home/trucntt/working/promotion-demo/app/controllers/product_bundles_controller.rb:10: syntax error, unexpected keyword_end, expecting '}'
/home/trucntt/working/promotion-demo/app/controllers/product_bundles_controller.rb:21: syntax error, unexpected keyword_end, expecting '}'):
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.5) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.5) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.5) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.5) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `constantize'
  activesupport (3.2.5) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__761254382__call__449999912__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:14:19 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (117.6ms)
  Rendered promotions/edit.html.erb within layouts/application (118.7ms)
Completed 200 OK in 141ms (Views: 111.9ms | ActiveRecord: 16.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (62.9ms)
  Rendered promotions/edit.html.erb within layouts/application (64.0ms)
Completed 200 OK in 73ms (Views: 67.3ms | ActiveRecord: 4.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /application.css - 200 OK (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:14:25 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:14:28 +0700

LoadError (Expected /home/trucntt/working/promotion-demo/app/controllers/product_bundles_controller.rb to define ProductBundlesController):
  activesupport (3.2.5) lib/active_support/dependencies.rb:503:in `load_missing_constant'
  activesupport (3.2.5) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.5) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:229:in `block in constantize'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `each'
  activesupport (3.2.5) lib/active_support/inflector/methods.rb:228:in `constantize'
  activesupport (3.2.5) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.5) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/flash.rb:238:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/cookies.rb:338:in `call'
  activerecord (3.2.5) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.5) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `_run__761254382__call__449999912__callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.5) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.5) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.5) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.5) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.5) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.5) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.5) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.5) lib/rails/engine.rb:479:in `call'
  railties (3.2.5) lib/rails/application.rb:220:in `call'
  rack (1.4.1) lib/rack/content_length.rb:14:in `call'
  railties (3.2.5) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/trucntt/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:14:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (113.9ms)
  Rendered promotions/edit.html.erb within layouts/application (115.0ms)
Completed 200 OK in 137ms (Views: 108.5ms | ActiveRecord: 15.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:00 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.9ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (66.5ms)
  Rendered promotions/edit.html.erb within layouts/application (67.7ms)
Completed 200 OK in 76ms (Views: 69.8ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:02 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:15:07 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 500 Internal Server Error in 9ms

NameError (undefined local variable or method `product_bundles' for #<ProductBundlesController:0xb5d88a50>):
  app/controllers/product_bundles_controller.rb:8:in `block (2 levels) in index'
  app/controllers/product_bundles_controller.rb:6:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.9ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:15:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.5ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (120.9ms)
  Rendered promotions/edit.html.erb within layouts/application (122.0ms)
Completed 200 OK in 144ms (Views: 114.7ms | ActiveRecord: 16.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /scafford.css - 200 OK (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:15:24 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:15:27 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.5ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:15:30 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:15:32 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 15:15:33 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles?business_id=1" for 127.0.0.1 at 2012-06-23 15:15:35 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"1"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:15:36 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.1ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:15:37 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:18:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (63.4ms)
  Rendered promotions/edit.html.erb within layouts/application (64.5ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 90ms (Views: 84.9ms | ActiveRecord: 4.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /promotions.js - 200 OK (30ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:23 +0700
Served asset /application.js - 304 Not Modified (9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:18:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (34.4ms)
  Rendered promotions/edit.html.erb within layouts/application (35.4ms)
Completed 200 OK in 44ms (Views: 37.9ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /application.css - 200 OK (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /jquery.js - 200 OK (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:18:31 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:18:34 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.3ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:18:35 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:18:37 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles?business_id=1" for 127.0.0.1 at 2012-06-23 15:18:41 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"1"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (113.6ms)
  Rendered promotions/edit.html.erb within layouts/application (114.7ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 181ms (Views: 153.3ms | ActiveRecord: 15.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:55 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (36.1ms)
  Rendered promotions/edit.html.erb within layouts/application (37.1ms)
Completed 200 OK in 47ms (Views: 40.2ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:21:59 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:22:03 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 500 Internal Server Error in 6ms

NoMethodError (undefined method `first' for nil:NilClass):
  app/controllers/product_bundles_controller.rb:10:in `block (2 levels) in index'
  app/controllers/product_bundles_controller.rb:6:in `index'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:22:29 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (116.3ms)
  Rendered promotions/edit.html.erb within layouts/application (117.3ms)
Completed 200 OK in 142ms (Views: 112.2ms | ActiveRecord: 14.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:30 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (63.3ms)
  Rendered promotions/edit.html.erb within layouts/application (64.6ms)
Completed 200 OK in 74ms (Views: 67.5ms | ActiveRecord: 5.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /jquery.js - 200 OK (5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:22:33 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:22:38 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (112.5ms)
  Rendered promotions/edit.html.erb within layouts/application (113.6ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 153ms (Views: 125.5ms | ActiveRecord: 15.3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /style.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:45 +0700
Served asset /application.js - 304 Not Modified (36ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (38.6ms)
  Rendered promotions/edit.html.erb within layouts/application (39.8ms)
Completed 200 OK in 48ms (Views: 42.3ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /application.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /jquery.js - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:23:48 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:23:52 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:23:54 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 1.1ms)


Started GET "/product_bundles?business_id=4" for 127.0.0.1 at 2012-06-23 15:23:56 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"4"}
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 4 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 4
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started GET "/product_bundles/17" for 127.0.0.1 at 2012-06-23 15:24:05 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"17"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 17 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `retail_price' for nil:NilClass):
  app/controllers/product_bundles_controller.rb:19:in `block (2 levels) in show'
  app/controllers/product_bundles_controller.rb:17:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.4ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:24:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1[0m
  Rendered promotions/_form.html.erb (34.8ms)
  Rendered promotions/edit.html.erb within layouts/application (35.9ms)
Completed 200 OK in 45ms (Views: 39.6ms | ActiveRecord: 4.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /promotions.css - 304 Not Modified (5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:24:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1[0m
  Rendered promotions/_form.html.erb (34.4ms)
  Rendered promotions/edit.html.erb within layouts/application (35.5ms)
Completed 200 OK in 44ms (Views: 38.0ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:24:31 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles/2" for 127.0.0.1 at 2012-06-23 15:24:49 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
Completed 500 Internal Server Error in 3ms

NoMethodError (undefined method `retail_price' for #<Business:0xb481ca68>):
  app/controllers/product_bundles_controller.rb:19:in `block (2 levels) in show'
  app/controllers/product_bundles_controller.rb:17:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.8ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.3ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (114.0ms)
  Rendered promotions/edit.html.erb within layouts/application (115.2ms)
Completed 200 OK in 137ms (Views: 108.5ms | ActiveRecord: 15.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:16 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (61.5ms)
  Rendered promotions/edit.html.erb within layouts/application (62.7ms)
Completed 200 OK in 72ms (Views: 65.1ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:25:20 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:25:25 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/product_bundles/12" for 127.0.0.1 at 2012-06-23 15:25:29 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"12"}
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 12 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.9ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1[0m
  Rendered promotions/_form.html.erb (62.6ms)
  Rendered promotions/edit.html.erb within layouts/application (63.7ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 90ms (Views: 83.4ms | ActiveRecord: 5.2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:34 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1[0m
  Rendered promotions/_form.html.erb (61.8ms)
  Rendered promotions/edit.html.erb within layouts/application (62.9ms)
Completed 200 OK in 71ms (Views: 65.3ms | ActiveRecord: 5.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /application.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:26:37 +0700
Served asset /application.js - 200 OK (2ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:26:41 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles/13" for 127.0.0.1 at 2012-06-23 15:26:48 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"13"}
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (61.0ms)
  Rendered promotions/edit.html.erb within layouts/application (62.1ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (3ms)  (pid 11185)
Completed 200 OK in 114ms (Views: 108.0ms | ActiveRecord: 5.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /application.css - 200 OK (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /scafford.css - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /jquery.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:23 +0700
Served asset /application.js - 200 OK (7ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 6 LIMIT 1
  Rendered promotions/_form.html.erb (33.6ms)
  Rendered promotions/edit.html.erb within layouts/application (34.7ms)
Completed 200 OK in 69ms (Views: 63.0ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /application.css - 200 OK (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /promotions.css - 200 OK (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:27 +0700
Served asset /application.js - 200 OK (1ms)


Started GET "/product_bundles/2" for 127.0.0.1 at 2012-06-23 15:27:38 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 2 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/product_bundles/3" for 127.0.0.1 at 2012-06-23 15:27:40 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 3 LIMIT 1
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/product_bundles/4" for 127.0.0.1 at 2012-06-23 15:27:42 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"4"}
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/product_bundles/9" for 127.0.0.1 at 2012-06-23 15:27:45 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"9"}
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion 1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"4", "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"9", "id"=>"2"}}}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.8ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 08:27:46.267549' WHERE "promotions"."id" = 1
  [1m[36m (0.5ms)[0m  [1mUPDATE "businesses_promotions" SET "product_bundle_id" = 4, "updated_at" = '2012-06-23 08:27:46.274584' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "product_bundle_id" = 9, "updated_at" = '2012-06-23 08:27:46.276223' WHERE "businesses_promotions"."id" = 2
  [1m[36m (19.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 39ms (ActiveRecord: 22.3ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:46 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
  Rendered promotions/_form.html.erb (34.1ms)
  Rendered promotions/edit.html.erb within layouts/application (35.2ms)
Completed 200 OK in 44ms (Views: 37.4ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:27:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:28:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
  Rendered promotions/_form.html.erb (62.6ms)
  Rendered promotions/edit.html.erb within layouts/application (63.8ms)
Completed 200 OK in 74ms (Views: 68.8ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:28:32 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:28:32 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:28:32 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:28:33 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.3ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.4ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
  Rendered promotions/_form.html.erb (114.6ms)
  Rendered promotions/edit.html.erb within layouts/application (115.7ms)
Completed 200 OK in 165ms (Views: 136.5ms | ActiveRecord: 15.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:31 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
  Rendered promotions/_form.html.erb (38.5ms)
  Rendered promotions/edit.html.erb within layouts/application (39.5ms)
Completed 200 OK in 48ms (Views: 42.1ms | ActiveRecord: 4.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:33 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"4", "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"9", "id"=>"2"}}, "redemption_detail"=>""}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1[0m
  Rendered promotions/_form.html.erb (35.5ms)
  Rendered promotions/edit.html.erb within layouts/application (36.7ms)
Completed 200 OK in 80ms (Views: 39.7ms | ActiveRecord: 6.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"1", "product_bundle_id"=>"4", "id"=>"1"}, "1"=>{"business_id"=>"2", "product_bundle_id"=>"9", "id"=>"2"}}, "redemption_detail"=>""}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at
  [1m[36m (0.9ms)[0m  [1mUPDATE "promotions" SET "name" = 'Promotion 1', "redemption_detail" = '', "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 08:31:55.767443' WHERE "promotions"."id" = 1[0m
  [1m[35m (10.2ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 23ms (ActiveRecord: 12.7ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /jquery.js - 304 Not Modified (9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:55 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:56 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:31:56 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:33 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:34 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:32:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:21 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:23 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:49 +0700
Served asset /application.js - 304 Not Modified (32ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:50 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:51 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:53 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:34:54 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/new" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Processing by PromotionsController#new as HTML
  Rendered promotions/_form.html.erb (18.1ms)
  Rendered promotions/new.html.erb within layouts/application (19.4ms)
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:35:42 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:43 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:44 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:35:45 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:36:04 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:05 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /application.css - 304 Not Modified (37ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:06 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:55 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:36:56 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /promotions.css - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:36:57 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 40ms (Views: 38.8ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1[0m
  Rendered promotions/_form.html.erb (35.2ms)
  Rendered promotions/edit.html.erb within layouts/application (36.3ms)
Completed 200 OK in 45ms (Views: 38.8ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:37:17 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (27.2ms)
Completed 200 OK in 36ms (Views: 34.4ms | ActiveRecord: 0.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:23 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 1 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 9 LIMIT 1
  Rendered promotions/_form.html.erb (33.1ms)
  Rendered promotions/edit.html.erb within layouts/application (34.1ms)
Completed 200 OK in 42ms (Views: 36.8ms | ActiveRecord: 4.4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:38:42 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/product_bundles?business_id=2" for 127.0.0.1 at 2012-06-23 15:38:49 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"2"}
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started GET "/product_bundles/8" for 127.0.0.1 at 2012-06-23 15:38:51 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"8"}
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/product_bundles?business_id=3" for 127.0.0.1 at 2012-06-23 15:38:54 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"3"}
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started GET "/product_bundles/13" for 127.0.0.1 at 2012-06-23 15:38:55 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"13"}
  [1m[35mProductBundle Load (0.9ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Df37uG0vqqxD7MDTpXnVwQwvtVn8nRKD4YR3e0H/l0=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"2", "product_bundle_id"=>"8", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"13", "id"=>"2"}}, "redemption_detail"=>"Redemption detail"}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.8ms)[0m  UPDATE "promotions" SET "redemption_detail" = 'Redemption detail', "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 08:39:05.624737' WHERE "promotions"."id" = 1
  [1m[36m (0.8ms)[0m  [1mUPDATE "businesses_promotions" SET "business_id" = 2, "product_bundle_id" = 8, "updated_at" = '2012-06-23 08:39:05.627976' WHERE "businesses_promotions"."id" = 1[0m
  [1m[35m (0.8ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 3, "product_bundle_id" = 13, "updated_at" = '2012-06-23 08:39:05.630798' WHERE "businesses_promotions"."id" = 2
  [1m[36m (24.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 44ms (ActiveRecord: 28.4ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:05 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.9ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.8ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (62.6ms)
  Rendered promotions/edit.html.erb within layouts/application (63.8ms)
Completed 200 OK in 72ms (Views: 66.4ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:39:08 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (36.8ms)
  Rendered promotions/edit.html.erb within layouts/application (37.9ms)
Completed 200 OK in 46ms (Views: 40.3ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:12 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (35.6ms)
  Rendered promotions/edit.html.erb within layouts/application (36.6ms)
Completed 200 OK in 45ms (Views: 39.1ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:40:14 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (61.2ms)
  Rendered promotions/edit.html.erb within layouts/application (62.3ms)
Compiled style.css  (63ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 166ms (Views: 160.8ms | ActiveRecord: 4.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /application.css - 304 Not Modified (11ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:43:16 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:44:39 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (37.3ms)
  Rendered promotions/edit.html.erb within layouts/application (38.4ms)
Compiled style.css  (16ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 79ms (Views: 72.5ms | ActiveRecord: 5.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:40 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:44:50 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (34.0ms)
  Rendered promotions/edit.html.erb within layouts/application (35.1ms)
Compiled style.css  (16ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 74ms (Views: 68.3ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /style.css - 200 OK (35ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:44:51 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (40.4ms)
  Rendered promotions/edit.html.erb within layouts/application (41.6ms)
Compiled style.css  (16ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 80ms (Views: 74.2ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /application.css - 304 Not Modified (12ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /style.css - 200 OK (32ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:24 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (36.6ms)
  Rendered promotions/edit.html.erb within layouts/application (37.6ms)
Completed 200 OK in 46ms (Views: 39.5ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:45:26 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (63.1ms)
  Rendered promotions/edit.html.erb within layouts/application (64.1ms)
Compiled style.css  (16ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 102ms (Views: 96.3ms | ActiveRecord: 4.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:46:30 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:46:31 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:46:31 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:46:31 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (71.9ms)
  Rendered promotions/edit.html.erb within layouts/application (73.4ms)
Completed 200 OK in 83ms (Views: 76.5ms | ActiveRecord: 4.7ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:19 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (62.3ms)
  Rendered promotions/edit.html.erb within layouts/application (63.5ms)
Compiled style.css  (17ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 103ms (Views: 97.5ms | ActiveRecord: 4.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /application.css - 304 Not Modified (10ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:48:48 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (63.9ms)
  Rendered promotions/edit.html.erb within layouts/application (65.0ms)
Completed 200 OK in 73ms (Views: 67.9ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:50:33 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (64.3ms)
  Rendered promotions/edit.html.erb within layouts/application (65.4ms)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:51:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (61.0ms)
  Rendered promotions/edit.html.erb within layouts/application (62.1ms)
Compiled style.css  (18ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 103ms (Views: 97.2ms | ActiveRecord: 4.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /application.css - 304 Not Modified (12ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:53:39 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (64.2ms)
  Rendered promotions/edit.html.erb within layouts/application (65.5ms)
Compiled style.css  (18ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 107ms (Views: 100.4ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /application.css - 304 Not Modified (12ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:54:12 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (65.0ms)
  Rendered promotions/edit.html.erb within layouts/application (66.2ms)
Compiled style.css  (18ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 106ms (Views: 100.1ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /application.css - 304 Not Modified (13ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /style.css - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:08 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:55:09 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (67.2ms)
  Rendered promotions/edit.html.erb within layouts/application (68.3ms)
Completed 200 OK in 77ms (Views: 70.5ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /application.css - 304 Not Modified (8ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /style.css - 304 Not Modified (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:10 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (37.4ms)
  Rendered promotions/edit.html.erb within layouts/application (38.5ms)
Compiled style.css  (45ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 106ms (Views: 100.2ms | ActiveRecord: 5.1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /application.css - 304 Not Modified (6ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /style.css - 200 OK (4ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:55:40 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (36.7ms)
  Rendered promotions/edit.html.erb within layouts/application (37.7ms)
Completed 200 OK in 76ms (Views: 70.3ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:56:35 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:58:32 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (37.1ms)
  Rendered promotions/edit.html.erb within layouts/application (38.1ms)
Compiled style.css  (17ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 107ms (Views: 101.2ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /application.css - 304 Not Modified (14ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:58:33 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (35.3ms)
  Rendered promotions/edit.html.erb within layouts/application (36.5ms)
Compiled style.css  (18ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 109ms (Views: 102.5ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /application.css - 304 Not Modified (13ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /style.css - 200 OK (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 15:59:22 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (35.9ms)
  Rendered promotions/edit.html.erb within layouts/application (37.2ms)
Compiled style.css  (18ms)  (pid 11185)
Compiled application.css  (1ms)  (pid 11185)
Completed 200 OK in 108ms (Views: 101.4ms | ActiveRecord: 5.0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /application.css - 304 Not Modified (11ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /style.css - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:00:54 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 16:05:24 +0700
Processing by PromotionsController#index as HTML
  [1m[36mPromotion Load (0.7ms)[0m  [1mSELECT "promotions".* FROM "promotions" [0m
  Rendered promotions/index.html.erb within layouts/application (1.3ms)
Compiled bootstrap-typeahead.js  (0ms)  (pid 11185)
Compiled application.js  (10ms)  (pid 11185)
Completed 200 OK in 80ms (Views: 78.3ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /bootstrap-typeahead.js - 200 OK (2ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:25 +0700
Served asset /application.js - 200 OK (7ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:28 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:05:38 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (62.8ms)
  Rendered promotions/edit.html.erb within layouts/application (63.9ms)
Completed 200 OK in 72ms (Views: 66.2ms | ActiveRecord: 5.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:05:39 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (63.8ms)
  Rendered promotions/edit.html.erb within layouts/application (64.9ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (4ms)  (pid 11185)
Completed 200 OK in 93ms (Views: 86.8ms | ActiveRecord: 4.9ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /promotions.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:06:17 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (63.6ms)
  Rendered promotions/edit.html.erb within layouts/application (64.8ms)
Completed 200 OK in 73ms (Views: 67.8ms | ActiveRecord: 4.4ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:08:10 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (63.4ms)
  Rendered promotions/edit.html.erb within layouts/application (64.6ms)
Completed 200 OK in 73ms (Views: 67.8ms | ActiveRecord: 4.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (62.8ms)
  Rendered promotions/edit.html.erb within layouts/application (64.1ms)
Completed 200 OK in 74ms (Views: 67.1ms | ActiveRecord: 5.2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /jquery_ujs.js - 304 Not Modified (1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:06 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (34.8ms)
  Rendered promotions/edit.html.erb within layouts/application (62.3ms)
Compiled promotions.js  (0ms)  (pid 11185)
Compiled application.js  (4ms)  (pid 11185)
Completed 200 OK in 90ms (Views: 84.6ms | ActiveRecord: 4.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /promotions.js - 200 OK (1ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:25 +0700
Served asset /application.js - 304 Not Modified (8ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (60.3ms)
  Rendered promotions/edit.html.erb within layouts/application (61.3ms)
Completed 200 OK in 70ms (Views: 64.6ms | ActiveRecord: 4.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:10:27 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (66.2ms)
  Rendered promotions/edit.html.erb within layouts/application (67.5ms)
Completed 200 OK in 76ms (Views: 70.0ms | ActiveRecord: 5.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:36 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7cmd5faDWWs9/EmA5/KMLCPbM0KjWEYXoJ7E2GIiosc=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"2", "product_bundle_id"=>"8", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"13", "id"=>"2"}}, "redemption_detail"=>"Redemption detail"}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at[0m
  [1m[35m (0.6ms)[0m  UPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 09:16:40.458709' WHERE "promotions"."id" = 1
  [1m[36m (31.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 40ms (ActiveRecord: 33.1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (1.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/show.html.erb within layouts/application (44.0ms)
Completed 200 OK in 52ms (Views: 49.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /application.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /jquery.js - 304 Not Modified (1ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:16:40 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.6ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.8ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:58 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:17:59 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:01 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:18:03 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusiness Load (0.7ms)[0m  [1mSELECT "businesses".* FROM "businesses" INNER JOIN "businesses_promotions" ON "businesses"."id" = "businesses_promotions"."business_id" WHERE "businesses_promotions"."promotion_id" = 1[0m
  Rendered promotions/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:03 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:18:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:19:38 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (4.5ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (undefined method `business_promotions' for #<Promotion:0xb4f00ff0>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.business_promotions.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285__633160748'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:19:40 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (undefined method `business_promotions' for #<Promotion:0xb4d6e46c>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.business_promotions.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285__633160748'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (40.8ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:19:53 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (undefined method `business_product_bundles' for #<Promotion:0x945591c>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.business_product_bundles.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285_80050870'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:19:54 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (undefined method `business_product_bundles' for #<Promotion:0xb5e67160>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.business_product_bundles.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285_80050870'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:20:06 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 6ms

ActionView::Template::Error (undefined method `businesses_product_bundles' for #<Promotion:0xb5bb4c24>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.businesses_product_bundles.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285__623011068'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:20:07 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  Rendered promotions/show.html.erb within layouts/application (1.9ms)
Completed 500 Internal Server Error in 5ms

ActionView::Template::Error (undefined method `businesses_product_bundles' for #<Promotion:0xb481b884>):
    36: <p>
    37:   <b>Business</b>
    38:   </br>
    39:   <%@promotion.businesses_product_bundles.each do |bp| %>
    40:   <%=bp.business.name%>/<%=bp.product_bundle.name%>
    41:   </br>
    42:   <%end%>
  app/views/promotions/show.html.erb:39:in `_app_views_promotions_show_html_erb___95014285__623011068'
  app/controllers/promotions_controller.rb:19:in `show'


  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (4.1ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/trucntt/.rvm/gems/ruby-1.9.3-p125@promotion/gems/actionpack-3.2.5/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.3ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /scafford.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:20:37 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.8ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (38.3ms)
Completed 200 OK in 48ms (Views: 43.6ms | ActiveRecord: 3.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /scafford.css - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:04 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (8.0ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /application.css - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /jquery_ujs.js - 304 Not Modified (3ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:05 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.6ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 3.5ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:08 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:21:19 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "businesses".* FROM "businesses" [0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/_form.html.erb (71.2ms)
  Rendered promotions/edit.html.erb within layouts/application (72.3ms)
Completed 200 OK in 81ms (Views: 75.7ms | ActiveRecord: 4.0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /application.css - 304 Not Modified (5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:20 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7cmd5faDWWs9/EmA5/KMLCPbM0KjWEYXoJ7E2GIiosc=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"2", "product_bundle_id"=>"8", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"13", "id"=>"2"}}, "redemption_detail"=>"Redemption detail"}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at
  [1m[36m (0.6ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 09:21:25.806369' WHERE "promotions"."id" = 1[0m
  [1m[35m (23.6ms)[0m  COMMIT
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 32ms (ActiveRecord: 25.5ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:25 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:26 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:26 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:26 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:26 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:21:27 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.6ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 2 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 2[0m
  [1m[35mProductBundle Load (0.7ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 8 LIMIT 1
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (68.6ms)
  Rendered promotions/edit.html.erb within layouts/application (69.9ms)
Completed 200 OK in 79ms (Views: 72.3ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /promotions.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:28 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/product_bundles?business_id=5" for 127.0.0.1 at 2012-06-23 16:21:30 +0700
Processing by ProductBundlesController#index as JSON
  Parameters: {"business_id"=>"5"}
  [1m[36mBusiness Load (0.6ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/product_bundles/25" for 127.0.0.1 at 2012-06-23 16:21:32 +0700
Processing by ProductBundlesController#show as JSON
  Parameters: {"id"=>"25"}
  [1m[36mProductBundle Load (0.7ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started PUT "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Processing by PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7cmd5faDWWs9/EmA5/KMLCPbM0KjWEYXoJ7E2GIiosc=", "promotion"=>{"name"=>"Promotion  1", "start_date(1i)"=>"2012", "start_date(2i)"=>"6", "start_date(3i)"=>"23", "end_date(1i)"=>"2012", "end_date(2i)"=>"7", "end_date(3i)"=>"3", "title"=>"Title 1", "sub_title"=>"Sub Title 1", "subject"=>"Subject 1", "description"=>"Description 1", "businesses_promotions_attributes"=>{"0"=>{"business_id"=>"5", "product_bundle_id"=>"25", "id"=>"1"}, "1"=>{"business_id"=>"3", "product_bundle_id"=>"13", "id"=>"2"}}, "redemption_detail"=>"Redemption detail"}, "commit"=>"Update Promotion", "id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 AND "businesses_promotions"."id" IN (1, 2) ORDER BY created_at
  [1m[36m (0.6ms)[0m  [1mUPDATE "promotions" SET "start_date" = '2012-06-23 00:00:00.000000', "end_date" = '2012-07-03 00:00:00.000000', "updated_at" = '2012-06-23 09:21:34.062743' WHERE "promotions"."id" = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE "businesses_promotions" SET "business_id" = 5, "product_bundle_id" = 25, "updated_at" = '2012-06-23 09:21:34.064462' WHERE "businesses_promotions"."id" = 1
  [1m[36m (21.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/promotions/1
Completed 302 Found in 31ms (ActiveRecord: 24.1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (7.4ms)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 3.2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /jquery.js - 304 Not Modified (5ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:34 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.5ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.7ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.7ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.3ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /style.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:37 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Processing by PromotionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPromotion Load (0.4ms)[0m  SELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mBusinessesPromotion Load (0.6ms)[0m  [1mSELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1[0m
  Rendered promotions/show.html.erb within layouts/application (7.5ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /jquery.js - 304 Not Modified (3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:39 +0700
Served asset /application.js - 304 Not Modified (2ms)


Started GET "/" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Processing by PromotionsController#index as HTML
  [1m[35mPromotion Load (0.7ms)[0m  SELECT "promotions".* FROM "promotions" 
  Rendered promotions/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /jquery.js - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:44 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:21:46 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.6ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (64.5ms)
  Rendered promotions/edit.html.erb within layouts/application (65.6ms)
Completed 200 OK in 74ms (Views: 67.7ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /style.css - 304 Not Modified (3ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:21:47 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.5ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.7ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.5ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (61.1ms)
  Rendered promotions/edit.html.erb within layouts/application (62.2ms)
Completed 200 OK in 71ms (Views: 65.6ms | ActiveRecord: 4.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /application.css - 304 Not Modified (7ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /scafford.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /promotions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /jquery_ujs.js - 304 Not Modified (2ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:16 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.8ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mBusiness Load (0.5ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1
  [1m[36mBusiness Load (0.5ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.8ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.5ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (60.7ms)
  Rendered promotions/edit.html.erb within layouts/application (61.7ms)
Completed 200 OK in 70ms (Views: 63.9ms | ActiveRecord: 5.1ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /promotions.css - 304 Not Modified (2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /application.css - 304 Not Modified (1ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /scafford.css - 304 Not Modified (1ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /style.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /jquery.js - 304 Not Modified (2ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /promotions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /jquery_nested_form.js - 304 Not Modified (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /bootstrap-typeahead.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:17 +0700
Served asset /application.js - 304 Not Modified (1ms)


Started GET "/promotions/1/edit" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Processing by PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPromotion Load (0.4ms)[0m  [1mSELECT "promotions".* FROM "promotions" WHERE "promotions"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mBusinessesPromotion Load (0.6ms)[0m  SELECT "businesses_promotions".* FROM "businesses_promotions" WHERE "businesses_promotions"."promotion_id" = 1 ORDER BY created_at
  [1m[36mBusiness Load (0.4ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 5 LIMIT 1[0m
  [1m[35mBusiness Load (0.4ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.6ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 5[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 25 LIMIT 1
  [1m[36mBusiness Load (0.3ms)[0m  [1mSELECT "businesses".* FROM "businesses" WHERE "businesses"."id" = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "businesses".* FROM "businesses" 
  [1m[36mProductBundle Load (0.4ms)[0m  [1mSELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."business_id" = 3[0m
  [1m[35mProductBundle Load (0.4ms)[0m  SELECT "product_bundles".* FROM "product_bundles" WHERE "product_bundles"."id" = 13 LIMIT 1
  Rendered promotions/_form.html.erb (33.7ms)
  Rendered promotions/edit.html.erb within layouts/application (34.8ms)
Completed 200 OK in 43ms (Views: 38.1ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /application.css - 200 OK (41ms)


Started GET "/assets/promotions.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /promotions.css - 200 OK (0ms)


Started GET "/assets/scafford.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /scafford.css - 200 OK (0ms)


Started GET "/assets/style.css?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /style.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /jquery.js - 200 OK (2ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /jquery_ujs.js - 200 OK (0ms)


Started GET "/assets/promotions.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /promotions.js - 200 OK (0ms)


Started GET "/assets/jquery_nested_form.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /jquery_nested_form.js - 200 OK (0ms)


Started GET "/assets/bootstrap-typeahead.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /bootstrap-typeahead.js - 200 OK (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2012-06-23 16:28:30 +0700
Served asset /application.js - 200 OK (1ms)
